From bc2cd37fb021c916ab879f183cc1efb2db0288bf Mon Sep 17 00:00:00 2001
From: Jonas Gorski <jonas.gorski@bisdn.de>
Date: Sun, 9 Feb 2025 10:26:59 +0100
Subject: [PATCH 19/54] modules: update platform_drivers with 6.11
 compatibility

platform_driver::remove() changed its return type to void, so we need to
provide different versions based on the kernel version.

Add variants using the following semantic patch:

<// <smpl>
@r@
identifier DRIVER;
identifier remove_fn;
fresh identifier remove_fn_wrap = remove_fn ## "_6_11";
position p;
@@
struct platform_driver DRIVER@p = {
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = remove_fn_wrap,
+#else
	.remove = remove_fn,
+#endif
};

@i depends on r@
@@
 #include <linux/version.h>
@depends on r && !i@
@@
 #include <...>
+#include <linux/version.h>
@depends on r@
identifier r.remove_fn;
identifier r.remove_fn_wrap;
@@
int remove_fn(...) {...}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void remove_fn_wrap(struct platform_device *pdev)
+{
+	remove_fn(pdev);
+}
+#endif
// </smpl>

applied with

    spatch --sp-file 6.11-platform_remove_sig.cocci --in-place --dir packages/

Result taken as is, without any code style fixes.

[Upstream-Status: Unsubmitted]
Signed-off-by: Jonas Gorski <jonas.gorski@bisdn.de>
---
 .../modules/accton_as4610_fan.c                | 11 +++++++++++
 .../modules/accton_as4610_leds.c               | 11 +++++++++++
 .../builds/x86-64-accton-as4222-28pe-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as4630-54pe-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as4630-54te-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as5512-54x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as5512-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5712-54x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as5712-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5812-54t-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as5812-54t-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5812-54x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as5812-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5822-54x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as5822-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5835-54t-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5835-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5912-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5912-54xk-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as5915-18x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5916-26xb-fan.c     | 10 ++++++++++
 .../builds/x86-64-accton-as5916-26xb-led.c     | 10 ++++++++++
 .../builds/x86-64-accton-as5916-26xb-psu.c     | 10 ++++++++++
 .../builds/x86-64-accton-as5916-26xb-sfp.c     | 10 ++++++++++
 .../builds/x86-64-accton-as5916-26xb-sys.c     | 10 ++++++++++
 .../builds/x86-64-accton-as5916-26xb-thermal.c | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as5916-54xk-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as5916-54xks-fan.c    | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54xks-leds.c   | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54xks-psu.c    | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54xks-sfp.c    | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54xks-sys.c    | 10 ++++++++++
 .../x86-64-accton-as5916-54xks-thermal.c       | 10 ++++++++++
 .../builds/x86-64-accton-as5916-54xl-fan.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xl-leds.c    | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xl-psu.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xl-sfp.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xl-sys.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xl-thermal.c | 15 +++++++++++++--
 .../builds/x86-64-accton-as5916-54xm-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as6712-32x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as6712-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as6812-32x-fan.c      | 11 +++++++++++
 .../builds/x86-64-accton-as6812-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7112-54x-led.c      | 11 +++++++++++
 .../builds/x86-64-accton-as7312-54x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7312-54xs-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as7315-27xb-led.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7315-30x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7316-26xb-fan.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7316-26xb-led.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7316-26xb-psu.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7316-26xb-sfp.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7316-26xb-sys.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7316-26xb-thermal.c | 10 ++++++++++
 .../builds/x86-64-accton-as7326-56x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7512-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7535-28xb-fan.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7535-28xb-leds.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7535-28xb-psu.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7535-28xb-sys.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7535-28xb-thermal.c | 10 ++++++++++
 .../builds/x86-64-accton-as7712-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7716-24sc-leds.c    | 18 +++++++++++++++---
 .../builds/x86-64-accton-as7716-24xc-leds.c    | 18 +++++++++++++++---
 .../builds/x86-64-accton-as7716-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7726-32x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7816-64x-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as7926-40xfb-fan.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7926-40xfb-leds.c   | 10 ++++++++++
 .../builds/x86-64-accton-as7926-40xfb-psu.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7926-40xfb-sys.c    | 10 ++++++++++
 .../x86-64-accton-as7926-40xfb-thermal.c       | 10 ++++++++++
 .../builds/x86-64-accton-as7926-40xke-leds.c   | 11 +++++++++++
 .../builds/x86-64-accton-as7926-80xk-leds.c    | 11 +++++++++++
 .../builds/x86-64-accton-as7936-22xke-leds.c   | 11 +++++++++++
 .../builds/x86-64-accton-as7946-30xb-fan.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7946-30xb-leds.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7946-30xb-psu.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7946-30xb-sys.c     | 10 ++++++++++
 .../builds/x86-64-accton-as7946-30xb-thermal.c | 10 ++++++++++
 .../builds/x86-64-accton-as7946-74xkb-fan.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7946-74xkb-leds.c   | 10 ++++++++++
 .../builds/x86-64-accton-as7946-74xkb-psu.c    | 10 ++++++++++
 .../builds/x86-64-accton-as7946-74xkb-sys.c    | 10 ++++++++++
 .../x86-64-accton-as7946-74xkb-thermal.c       | 10 ++++++++++
 .../builds/x86-64-accton-as9716-32d-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as9926-24d-fpga.c     | 11 +++++++++++
 .../builds/x86-64-accton-as9926-24d-leds.c     | 11 +++++++++++
 .../builds/x86-64-accton-as9926-24db-fan.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as9926-24db-leds.c    | 15 +++++++++++++--
 .../builds/x86-64-accton-as9926-24db-psu.c     | 10 ++++++++++
 .../builds/x86-64-accton-as9926-24db-sfp.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as9926-24db-sys.c     | 15 +++++++++++++--
 .../builds/x86-64-accton-as9926-24db-thermal.c | 15 +++++++++++++--
 .../builds/x86-64-accton-asgvolt64-fan.c       | 10 ++++++++++
 .../builds/x86-64-accton-asgvolt64-fpga.c      | 11 +++++++++++
 .../builds/x86-64-accton-asgvolt64-leds.c      | 10 ++++++++++
 .../builds/x86-64-accton-asgvolt64-psu.c       | 10 ++++++++++
 .../builds/x86-64-accton-asgvolt64-sys.c       | 10 ++++++++++
 .../builds/x86-64-accton-asgvolt64-thermal.c   | 10 ++++++++++
 .../builds/x86-64-accton-asxvolt16-leds.c      | 18 +++++++++++++++---
 .../builds/x86-64-accton-csp9250-leds.c        | 11 +++++++++++
 .../builds/x86-64-accton-es7632bt3-leds.c      | 11 +++++++++++
 .../minipack/modules/builds/minipack_psensor.c | 10 ++++++++++
 .../modules/builds/scg60d0-484t_fan.c          | 15 +++++++++++++--
 .../modules/builds/scg60d0-484t_led.c          | 15 +++++++++++++--
 .../modules/builds/scg60d0-484t_pwr_cpld.c     | 15 +++++++++++++--
 .../modules/builds/scg60d0-484t_thermal.c      | 15 +++++++++++++--
 .../silverstone/modules/builds/src/i2c-cls.c   | 11 +++++++++++
 .../modules/builds/src/i2c-ocores.c            | 11 +++++++++++
 .../silverstone/modules/builds/src/xcvr-cls.c  | 11 +++++++++++
 .../builds/x86-64-delta-ag8032-i2c-mux-cpld.c  | 10 ++++++++++
 .../d10056/modules/builds/src/gpio-ich.c       | 11 +++++++++++
 .../d10056/modules/builds/src/i2c-gpio.c       | 11 +++++++++++
 .../x86-64/d3352/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../x86-64/d5052/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../x86-64/d5254/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../d6254qs/modules/builds/src/gpio-ich.c      | 11 +++++++++++
 .../x86-64/d6332/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../x86-64/d6356/modules/builds/src/gpio-ich.c | 11 +++++++++++
 .../x86-64/d6356/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../x86-64/d6556/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../d7032q28b/modules/builds/src/gpio-ich.c    | 11 +++++++++++
 .../d7264q28b/modules/builds/src/gpio-ich.c    | 11 +++++++++++
 .../x86-64/d7332/modules/builds/src/i2c-gpio.c | 11 +++++++++++
 .../aurora-610/modules/builds/src/gpio-ich.c   | 11 +++++++++++
 .../aurora-610/modules/builds/src/i2c-gpio.c   | 18 +++++++++++++++---
 .../aurora-820/modules/builds/src/i2c-gpio.c   | 11 +++++++++++
 130 files changed, 1430 insertions(+), 42 deletions(-)

diff --git a/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_fan.c b/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_fan.c
index fe78e0440eb3..9aeb632c1963 100644
--- a/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_fan.c
+++ b/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_fan.c
@@ -29,6 +29,7 @@
 #include <linux/sysfs.h>
 #include <linux/slab.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define DRVNAME "as4610_fan"
 
@@ -285,6 +286,11 @@ static int as4610_fan_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as4610_fan_remove_6_11(struct platform_device *pdev) {
+	as4610_fan_remove(pdev);
+}
+#endif
 
 static const struct i2c_device_id as4610_fan_id[] = {
 	{ "as4610_fan", 0 },
@@ -294,7 +300,12 @@ MODULE_DEVICE_TABLE(i2c, as4610_fan_id);
 
 static struct platform_driver as4610_fan_driver = {
 	.probe		= as4610_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as4610_fan_remove_6_11,
+#else
+	
 	.remove		= as4610_fan_remove,
+#endif
 	.driver		= {
 		.name	= DRVNAME,
 		.owner	= THIS_MODULE,
diff --git a/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_leds.c b/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_leds.c
index 5771b0a55c1a..e7329b1132bb 100644
--- a/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_leds.c
+++ b/packages/platforms/accton/armxx/arm-accton-as4610/modules/accton_as4610_leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/bitops.h>
+#include <linux/version.h>
 
 extern int as4610_54_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as4610_54_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -615,10 +616,20 @@ static int as4610_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as4610_led_remove_6_11(struct platform_device *pdev) {
+	as4610_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as4610_led_driver = {
 	.probe		= as4610_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as4610_led_remove_6_11,
+#else
+	
 	.remove		= as4610_led_remove,
+#endif
 	.driver		= {
 	.name	= DRVNAME,
 	.owner	= THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as4222-28pe/modules/builds/x86-64-accton-as4222-28pe-leds.c b/packages/platforms/accton/x86-64/as4222-28pe/modules/builds/x86-64-accton-as4222-28pe-leds.c
index 734e170f5413..15e553c3e150 100755
--- a/packages/platforms/accton/x86-64/as4222-28pe/modules/builds/x86-64-accton-as4222-28pe-leds.c
+++ b/packages/platforms/accton/x86-64/as4222-28pe/modules/builds/x86-64-accton-as4222-28pe-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as4222_28pe_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as4222_28pe_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -386,10 +387,20 @@ static int accton_as4222_28pe_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as4222_28pe_led_remove_6_11(struct platform_device *pdev) {
+    accton_as4222_28pe_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as4222_28pe_led_driver = {
     .probe	  = accton_as4222_28pe_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as4222_28pe_led_remove_6_11,
+#else
+    
     .remove	 = accton_as4222_28pe_led_remove,
+#endif
     .suspend	= accton_as4222_28pe_led_suspend,
     .resume	 = accton_as4222_28pe_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as4630-54pe/modules/builds/x86-64-accton-as4630-54pe-leds.c b/packages/platforms/accton/x86-64/as4630-54pe/modules/builds/x86-64-accton-as4630-54pe-leds.c
index ddfdb056689c..99947c133ef8 100755
--- a/packages/platforms/accton/x86-64/as4630-54pe/modules/builds/x86-64-accton-as4630-54pe-leds.c
+++ b/packages/platforms/accton/x86-64/as4630-54pe/modules/builds/x86-64-accton-as4630-54pe-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as4630_54pe_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as4630_54pe_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -496,10 +497,20 @@ static int accton_as4630_54pe_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as4630_54pe_led_remove_6_11(struct platform_device *pdev) {
+    accton_as4630_54pe_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as4630_54pe_led_driver = {
     .probe	  = accton_as4630_54pe_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as4630_54pe_led_remove_6_11,
+#else
+    
     .remove	 = accton_as4630_54pe_led_remove,
+#endif
     .suspend	= accton_as4630_54pe_led_suspend,
     .resume	 = accton_as4630_54pe_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as4630-54te/modules/builds/x86-64-accton-as4630-54te-leds.c b/packages/platforms/accton/x86-64/as4630-54te/modules/builds/x86-64-accton-as4630-54te-leds.c
index fe4dbc4ba984..0342aa3ae904 100644
--- a/packages/platforms/accton/x86-64/as4630-54te/modules/builds/x86-64-accton-as4630-54te-leds.c
+++ b/packages/platforms/accton/x86-64/as4630-54te/modules/builds/x86-64-accton-as4630-54te-leds.c
@@ -27,6 +27,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as4630_54te_cpld_read(unsigned short cpld_addr, u8 reg);
 extern int as4630_54te_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -479,10 +480,20 @@ static int as4630_54te_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as4630_54te_led_remove_6_11(struct platform_device *pdev) {
+	as4630_54te_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as4630_54te_led_driver = {
 	.probe = as4630_54te_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as4630_54te_led_remove_6_11,
+#else
+	
 	.remove = as4630_54te_led_remove,
+#endif
 	.suspend = as4630_54te_led_suspend,
 	.resume = as4630_54te_led_resume,
 	.driver = {
diff --git a/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-fan.c b/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-fan.c
index 9718973934af..9f171f0742c8 100644
--- a/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-fan.c
+++ b/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-fan.c
@@ -32,6 +32,7 @@
 #include <linux/kthread.h>
 #include <linux/device.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -389,12 +390,22 @@ static int accton_as5512_54x_fan_remove(struct platform_device *pdev)
     
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5512_54x_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as5512_54x_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as5512_54x_fan"
 
 static struct platform_driver accton_as5512_54x_fan_driver = {
     .probe      = accton_as5512_54x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5512_54x_fan_remove_6_11,
+#else
+    
     .remove     = accton_as5512_54x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-leds.c b/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-leds.c
index 02eb3d7e36df..5b27be49955d 100644
--- a/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5512-54x/modules/builds/x86-64-accton-as5512-54x-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as5512_54x_cpld_read(unsigned short cpld_addr, u8 reg);
 extern int as5512_54x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -395,10 +396,20 @@ static int accton_as5512_54x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5512_54x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as5512_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5512_54x_led_driver = {
     .probe      = accton_as5512_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5512_54x_led_remove_6_11,
+#else
+    
     .remove     = accton_as5512_54x_led_remove,
+#endif
     .suspend    = accton_as5512_54x_led_suspend,
     .resume     = accton_as5512_54x_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-fan.c b/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-fan.c
index 73e8bf6fdac5..caa6d4e814eb 100644
--- a/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-fan.c
+++ b/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-fan.c
@@ -32,6 +32,7 @@
 #include <linux/kthread.h>
 #include <linux/device.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -377,12 +378,22 @@ static int accton_as5712_54x_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5712_54x_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as5712_54x_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as5712_54x_fan"
 
 static struct platform_driver accton_as5712_54x_fan_driver = {
     .probe      = accton_as5712_54x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5712_54x_fan_remove_6_11,
+#else
+    
     .remove     = accton_as5712_54x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-leds.c b/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-leds.c
index 68d0c686da5d..487bce9b2772 100644
--- a/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5712-54x/modules/builds/x86-64-accton-as5712-54x-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as5712_54x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as5712_54x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -531,10 +532,20 @@ static int accton_as5712_54x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5712_54x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as5712_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5712_54x_led_driver = {
     .probe      = accton_as5712_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5712_54x_led_remove_6_11,
+#else
+    
     .remove     = accton_as5712_54x_led_remove,
+#endif
     .suspend    = accton_as5712_54x_led_suspend,
     .resume     = accton_as5712_54x_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-fan.c b/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-fan.c
index 85dfd3c4d858..30d679631143 100644
--- a/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-fan.c
+++ b/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-fan.c
@@ -32,6 +32,7 @@
 #include <linux/kthread.h>
 #include <linux/device.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -378,12 +379,22 @@ static int accton_as5812_54t_fan_remove(struct platform_device *pdev)
     
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5812_54t_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as5812_54t_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as5812_54t_fan"
 
 static struct platform_driver accton_as5812_54t_fan_driver = {
     .probe      = accton_as5812_54t_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5812_54t_fan_remove_6_11,
+#else
+    
     .remove     = accton_as5812_54t_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-leds.c b/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-leds.c
index cf00e2e39d10..35e89440d955 100644
--- a/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-leds.c
+++ b/packages/platforms/accton/x86-64/as5812-54t/modules/builds/x86-64-accton-as5812-54t-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as5812_54t_cpld_read(unsigned short cpld_addr, u8 reg);
 extern int as5812_54t_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -534,10 +535,20 @@ static int accton_as5812_54t_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5812_54t_led_remove_6_11(struct platform_device *pdev) {
+    accton_as5812_54t_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5812_54t_led_driver = {
     .probe      = accton_as5812_54t_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5812_54t_led_remove_6_11,
+#else
+    
     .remove     = accton_as5812_54t_led_remove,
+#endif
     .suspend    = accton_as5812_54t_led_suspend,
     .resume     = accton_as5812_54t_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-fan.c b/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-fan.c
index 79b1ae489b4a..47b960b9ba01 100755
--- a/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-fan.c
+++ b/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-fan.c
@@ -32,6 +32,7 @@
 #include <linux/kthread.h>
 #include <linux/device.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -377,12 +378,22 @@ static int accton_as5812_54x_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5812_54x_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as5812_54x_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as5812_54x_fan"
 
 static struct platform_driver accton_as5812_54x_fan_driver = {
     .probe      = accton_as5812_54x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5812_54x_fan_remove_6_11,
+#else
+    
     .remove     = accton_as5812_54x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-leds.c b/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-leds.c
index 16c5f5d64d5b..4b57dfc070af 100755
--- a/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5812-54x/modules/builds/x86-64-accton-as5812-54x-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as5812_54x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as5812_54x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -531,10 +532,20 @@ static int accton_as5812_54x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5812_54x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as5812_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5812_54x_led_driver = {
     .probe      = accton_as5812_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as5812_54x_led_remove_6_11,
+#else
+    
     .remove     = accton_as5812_54x_led_remove,
+#endif
     .suspend    = accton_as5812_54x_led_suspend,
     .resume     = accton_as5812_54x_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-fan.c b/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-fan.c
index f9814b4f43a8..af6dfdd1015a 100644
--- a/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-fan.c
+++ b/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-fan.c
@@ -30,6 +30,7 @@
 #include <linux/slab.h>
 #include <linux/dmi.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 
 #define DRVNAME "as5822_54x_fan"
 #define FAN_STATUS_I2C_ADDR	0x60
@@ -427,10 +428,20 @@ static int as5822_54x_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5822_54x_fan_remove_6_11(struct platform_device *pdev) {
+    as5822_54x_fan_remove(pdev);
+}
+#endif
 
 static struct platform_driver as5822_54x_fan_driver = {
     .probe      = as5822_54x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5822_54x_fan_remove_6_11,
+#else
+    
     .remove     = as5822_54x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-leds.c b/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-leds.c
index 52d70db479ac..1f00dfe62636 100644
--- a/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5822-54x/modules/builds/x86-64-accton-as5822-54x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5822_54x_led"
 
@@ -316,10 +317,20 @@ static int accton_as5822_54x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5822_54x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5822_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5822_54x_led_driver = {
 	.probe	= accton_as5822_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5822_54x_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5822_54x_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5835-54t/modules/builds/x86-64-accton-as5835-54t-leds.c b/packages/platforms/accton/x86-64/as5835-54t/modules/builds/x86-64-accton-as5835-54t-leds.c
index d204963955a7..29de9a91e1c1 100644
--- a/packages/platforms/accton/x86-64/as5835-54t/modules/builds/x86-64-accton-as5835-54t-leds.c
+++ b/packages/platforms/accton/x86-64/as5835-54t/modules/builds/x86-64-accton-as5835-54t-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as5835_54t_led"
 
@@ -320,10 +321,20 @@ static int accton_as5835_54t_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5835_54t_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5835_54t_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5835_54t_led_driver = {
 	.probe	= accton_as5835_54t_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5835_54t_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5835_54t_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5835-54x/modules/builds/x86-64-accton-as5835-54x-leds.c b/packages/platforms/accton/x86-64/as5835-54x/modules/builds/x86-64-accton-as5835-54x-leds.c
index cc66511078a0..64e9d35cd547 100644
--- a/packages/platforms/accton/x86-64/as5835-54x/modules/builds/x86-64-accton-as5835-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5835-54x/modules/builds/x86-64-accton-as5835-54x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as5835_54x_led"
 
@@ -320,10 +321,20 @@ static int accton_as5835_54x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5835_54x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5835_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5835_54x_led_driver = {
 	.probe	= accton_as5835_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5835_54x_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5835_54x_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5912-54x/modules/builds/x86-64-accton-as5912-54x-leds.c b/packages/platforms/accton/x86-64/as5912-54x/modules/builds/x86-64-accton-as5912-54x-leds.c
index 8dbe1e64906a..991f4c91353f 100644
--- a/packages/platforms/accton/x86-64/as5912-54x/modules/builds/x86-64-accton-as5912-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5912-54x/modules/builds/x86-64-accton-as5912-54x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5912_54x_led"
 
@@ -317,10 +318,20 @@ static int accton_as5912_54x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5912_54x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5912_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5912_54x_led_driver = {
 	.probe	= accton_as5912_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5912_54x_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5912_54x_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5912-54xk/modules/builds/x86-64-accton-as5912-54xk-leds.c b/packages/platforms/accton/x86-64/as5912-54xk/modules/builds/x86-64-accton-as5912-54xk-leds.c
index f7b3ca436c11..64197fde37a6 100644
--- a/packages/platforms/accton/x86-64/as5912-54xk/modules/builds/x86-64-accton-as5912-54xk-leds.c
+++ b/packages/platforms/accton/x86-64/as5912-54xk/modules/builds/x86-64-accton-as5912-54xk-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5912_54xk_led"
 
@@ -326,10 +327,20 @@ static int accton_as5912_54xk_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5912_54xk_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5912_54xk_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5912_54xk_led_driver = {
 	.probe	= accton_as5912_54xk_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5912_54xk_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5912_54xk_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5915-18x/modules/builds/x86-64-accton-as5915-18x-leds.c b/packages/platforms/accton/x86-64/as5915-18x/modules/builds/x86-64-accton-as5915-18x-leds.c
index 454910c02394..1ce90aab4929 100644
--- a/packages/platforms/accton/x86-64/as5915-18x/modules/builds/x86-64-accton-as5915-18x-leds.c
+++ b/packages/platforms/accton/x86-64/as5915-18x/modules/builds/x86-64-accton-as5915-18x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as5915_18x_led"
 
@@ -414,10 +415,20 @@ static int as5915_18x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5915_18x_led_remove_6_11(struct platform_device *pdev) {
+    as5915_18x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as5915_18x_led_driver = {
     .probe    = as5915_18x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5915_18x_led_remove_6_11,
+#else
+    
     .remove    = as5915_18x_led_remove,
+#endif
     .driver = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-fan.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-fan.c
index c17f5ed404b4..15d516c1fdf3 100644
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-fan.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-fan.c
@@ -97,7 +97,12 @@ struct as5916_26xb_fan_data *data = NULL;
 
 static struct platform_driver as5916_26xb_fan_driver = {
     .probe      = as5916_26xb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_fan_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -410,6 +415,11 @@ static int as5916_26xb_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_fan_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_fan_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-led.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-led.c
index f072610cafb8..84c717befabc 100644
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-led.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-led.c
@@ -85,7 +85,12 @@ struct as5916_26xb_led_data *data = NULL;
 
 static struct platform_driver as5916_26xb_led_driver = {
     .probe      = as5916_26xb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_led_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_led_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -421,6 +426,11 @@ static int as5916_26xb_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_led_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_led_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-psu.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-psu.c
index 298b6dddc8be..7dbd129c5533 100755
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-psu.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-psu.c
@@ -117,7 +117,12 @@ struct as5916_26xb_psu_data *data = NULL;
 
 static struct platform_driver as5916_26xb_psu_driver = {
     .probe      = as5916_26xb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_psu_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_psu_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -505,6 +510,11 @@ static int as5916_26xb_psu_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_26xb_psu_group);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_psu_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_psu_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sfp.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sfp.c
index 57a1127a765a..05427db7660f 100644
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sfp.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sfp.c
@@ -131,7 +131,12 @@ struct as5916_26xb_sfp_data *data = NULL;
 
 static struct platform_driver as5916_26xb_sfp_driver = {
     .probe      = as5916_26xb_sfp_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_sfp_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_sfp_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -1147,6 +1152,11 @@ static int as5916_26xb_sfp_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_26xb_sfp_group);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_sfp_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_sfp_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_sfp_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sys.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sys.c
index e89c962f83a6..ae507b053ee9 100644
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sys.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-sys.c
@@ -81,7 +81,12 @@ struct as5916_26xb_sys_data *data = NULL;
 
 static struct platform_driver as5916_26xb_sys_driver = {
     .probe      = as5916_26xb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_sys_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_sys_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -309,6 +314,11 @@ static int as5916_26xb_sys_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_sys_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_sys_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-thermal.c b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-thermal.c
index a58ae5cecb1d..b14a6e7ec889 100644
--- a/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-thermal.c
+++ b/packages/platforms/accton/x86-64/as5916-26xb/modules/builds/x86-64-accton-as5916-26xb-thermal.c
@@ -83,7 +83,12 @@ struct as5916_26xb_thermal_data *data = NULL;
 
 static struct platform_driver as5916_26xb_thermal_driver = {
     .probe      = as5916_26xb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_26xb_thermal_remove_6_11,
+#else
+    
     .remove     = as5916_26xb_thermal_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -298,6 +303,11 @@ static int as5916_26xb_thermal_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_26xb_thermal_remove_6_11(struct platform_device *pdev) {
+    as5916_26xb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as5916_26xb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54x/modules/builds/x86-64-accton-as5916-54x-leds.c b/packages/platforms/accton/x86-64/as5916-54x/modules/builds/x86-64-accton-as5916-54x-leds.c
index 9f6be629be96..5af894c46d7c 100644
--- a/packages/platforms/accton/x86-64/as5916-54x/modules/builds/x86-64-accton-as5916-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as5916-54x/modules/builds/x86-64-accton-as5916-54x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5916_54x_led"
 
@@ -326,10 +327,20 @@ static int accton_as5916_54x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5916_54x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5916_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5916_54x_led_driver = {
 	.probe	= accton_as5916_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5916_54x_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5916_54x_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5916-54xk/modules/builds/x86-64-accton-as5916-54xk-leds.c b/packages/platforms/accton/x86-64/as5916-54xk/modules/builds/x86-64-accton-as5916-54xk-leds.c
index 078e005a1754..50412e0860c8 100644
--- a/packages/platforms/accton/x86-64/as5916-54xk/modules/builds/x86-64-accton-as5916-54xk-leds.c
+++ b/packages/platforms/accton/x86-64/as5916-54xk/modules/builds/x86-64-accton-as5916-54xk-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5916_54xk_led"
 
@@ -326,10 +327,20 @@ static int accton_as5916_54xk_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5916_54xk_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5916_54xk_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5916_54xk_led_driver = {
 	.probe	= accton_as5916_54xk_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5916_54xk_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5916_54xk_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-fan.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-fan.c
index 8f79aededede..bc592bcc9b7d 100755
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-fan.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-fan.c
@@ -95,7 +95,12 @@ struct as5916_54xks_fan_data *data = NULL;
 
 static struct platform_driver as5916_54xks_fan_driver = {
     .probe      = as5916_54xks_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_fan_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -439,6 +444,11 @@ static int as5916_54xks_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_fan_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_fan_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-leds.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-leds.c
index 5a9a9df58927..566c90787616 100755
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-leds.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-leds.c
@@ -81,7 +81,12 @@ struct as5916_54xks_led_data *data = NULL;
 
 static struct platform_driver as5916_54xks_led_driver = {
     .probe      = as5916_54xks_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_led_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_led_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -436,6 +441,11 @@ static int as5916_54xks_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_led_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_led_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-psu.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-psu.c
index 0bd011401d41..7613a3f51d80 100755
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-psu.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-psu.c
@@ -116,7 +116,12 @@ struct as5916_54xks_psu_data *data = NULL;
 
 static struct platform_driver as5916_54xks_psu_driver = {
     .probe      = as5916_54xks_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_psu_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_psu_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -608,6 +613,11 @@ static int as5916_54xks_psu_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xks_psu_group);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_psu_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_psu_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sfp.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sfp.c
index 6e8f4f281ccd..020cc78aa179 100644
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sfp.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sfp.c
@@ -160,7 +160,12 @@ struct as5916_54xks_sfp_data *data = NULL;
 
 static struct platform_driver as5916_54xks_sfp_driver = {
     .probe      = as5916_54xks_sfp_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_sfp_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_sfp_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -2227,6 +2232,11 @@ static int as5916_54xks_sfp_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_sfp_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_sfp_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_sfp_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sys.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sys.c
index c711a0f4a51f..bc1d865519d5 100644
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sys.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-sys.c
@@ -126,7 +126,12 @@ struct as5916_54xks_sys_data *data = NULL;
 
 static struct platform_driver as5916_54xks_sys_driver = {
     .probe      = as5916_54xks_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_sys_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_sys_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -980,6 +985,11 @@ static int as5916_54xks_sys_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_sys_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_sys_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-thermal.c b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-thermal.c
index 22725c70fa6e..a627777b2f92 100644
--- a/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-thermal.c
+++ b/packages/platforms/accton/x86-64/as5916-54xks/modules/builds/x86-64-accton-as5916-54xks-thermal.c
@@ -79,7 +79,12 @@ struct as5916_54xks_thermal_data *data = NULL;
 
 static struct platform_driver as5916_54xks_thermal_driver = {
     .probe      = as5916_54xks_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xks_thermal_remove_6_11,
+#else
+    
     .remove     = as5916_54xks_thermal_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -313,6 +318,11 @@ static int as5916_54xks_thermal_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xks_thermal_remove_6_11(struct platform_device *pdev) {
+    as5916_54xks_thermal_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xks_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-fan.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-fan.c
index 47f709022b8b..3e8a794a9540 100755
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-fan.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-fan.c
@@ -101,7 +101,13 @@ struct as5916_54xl_fan_data *data = NULL;
 
 static struct platform_driver as5916_54xl_fan_driver = {
     .probe      = as5916_54xl_fan_probe,
-    .remove     = as5916_54xl_fan_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_fan_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_fan_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -457,7 +463,12 @@ static int as5916_54xl_fan_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_fan_group);
 
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_fan_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_fan_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-leds.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-leds.c
index 09d0cd01f4e9..89775d3e3b81 100755
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-leds.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-leds.c
@@ -80,7 +80,13 @@ struct as5916_54xl_led_data *data = NULL;
 
 static struct platform_driver as5916_54xl_led_driver = {
     .probe      = as5916_54xl_led_probe,
-    .remove     = as5916_54xl_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_led_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_led_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -409,7 +415,12 @@ static int as5916_54xl_led_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_led_group);	
 
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_led_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_led_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-psu.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-psu.c
index c1f467c33028..0c8440537195 100755
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-psu.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-psu.c
@@ -115,7 +115,13 @@ struct as5916_54xl_psu_data *data = NULL;
 
 static struct platform_driver as5916_54xl_psu_driver = {
     .probe      = as5916_54xl_psu_probe,
-    .remove     = as5916_54xl_psu_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_psu_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_psu_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -581,7 +587,12 @@ static int as5916_54xl_psu_remove(struct platform_device *pdev)
 {
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_psu_group);
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_psu_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_psu_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sfp.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sfp.c
index a6f8410866d0..594670a85eb1 100644
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sfp.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sfp.c
@@ -158,7 +158,13 @@ struct as5916_54xl_sfp_data *data = NULL;
 
 static struct platform_driver as5916_54xl_sfp_driver = {
     .probe      = as5916_54xl_sfp_probe,
-    .remove     = as5916_54xl_sfp_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_sfp_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_sfp_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -1980,7 +1986,12 @@ static int as5916_54xl_sfp_remove(struct platform_device *pdev)
 
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_sfp_group);
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_sfp_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_sfp_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_sfp_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sys.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sys.c
index 9759b99206f4..a6caed4860bc 100644
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sys.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-sys.c
@@ -121,7 +121,13 @@ struct as5916_54xl_sys_data *data = NULL;
 
 static struct platform_driver as5916_54xl_sys_driver = {
     .probe      = as5916_54xl_sys_probe,
-    .remove     = as5916_54xl_sys_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_sys_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_sys_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -790,7 +796,12 @@ static int as5916_54xl_sys_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_sys_group);
 
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_sys_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_sys_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-thermal.c b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-thermal.c
index 5c797d73e48b..7388d24727b0 100755
--- a/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-thermal.c
+++ b/packages/platforms/accton/x86-64/as5916-54xl/modules/builds/x86-64-accton-as5916-54xl-thermal.c
@@ -78,7 +78,13 @@ struct as5916_54xl_thermal_data *data = NULL;
 
 static struct platform_driver as5916_54xl_thermal_driver = {
     .probe      = as5916_54xl_thermal_probe,
-    .remove     = as5916_54xl_thermal_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as5916_54xl_thermal_remove_6_11,
+#else
+    
+    .remove     = as5916_54xl_thermal_remove,
+#endif
+
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -286,7 +292,12 @@ static int as5916_54xl_thermal_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as5916_54xl_thermal_group);	
 
     return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as5916_54xl_thermal_remove_6_11(struct platform_device *pdev) {
+    as5916_54xl_thermal_remove(pdev);
+}
+#endif
 
 static int __init as5916_54xl_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as5916-54xm/modules/builds/x86-64-accton-as5916-54xm-leds.c b/packages/platforms/accton/x86-64/as5916-54xm/modules/builds/x86-64-accton-as5916-54xm-leds.c
index 04f392609e62..176665811f8c 100644
--- a/packages/platforms/accton/x86-64/as5916-54xm/modules/builds/x86-64-accton-as5916-54xm-leds.c
+++ b/packages/platforms/accton/x86-64/as5916-54xm/modules/builds/x86-64-accton-as5916-54xm-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "accton_as5916_54xm_led"
 
@@ -318,10 +319,20 @@ static int accton_as5916_54xm_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as5916_54xm_led_remove_6_11(struct platform_device *pdev) {
+	accton_as5916_54xm_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as5916_54xm_led_driver = {
 	.probe	= accton_as5916_54xm_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as5916_54xm_led_remove_6_11,
+#else
+	
 	.remove	= accton_as5916_54xm_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-fan.c b/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-fan.c
index 3b95f5bd8258..331b02c77499 100644
--- a/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-fan.c
+++ b/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-fan.c
@@ -33,6 +33,7 @@
 #include <linux/device.h>
 #include <linux/platform_device.h>
 #include <linux/delay.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -382,12 +383,22 @@ static int accton_as6712_32x_fan_remove(struct platform_device *pdev)
     
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as6712_32x_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as6712_32x_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as6712_32x_fan"
 
 static struct platform_driver accton_as6712_32x_fan_driver = {
     .probe      = accton_as6712_32x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as6712_32x_fan_remove_6_11,
+#else
+    
     .remove     = accton_as6712_32x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-leds.c b/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-leds.c
index 2d76b3662475..22866f2efd92 100644
--- a/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as6712-32x/modules/builds/x86-64-accton-as6712-32x-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as6712_32x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as6712_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -550,10 +551,20 @@ static int accton_as6712_32x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as6712_32x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as6712_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as6712_32x_led_driver = {
     .probe      = accton_as6712_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as6712_32x_led_remove_6_11,
+#else
+    
     .remove     = accton_as6712_32x_led_remove,
+#endif
     .suspend    = accton_as6712_32x_led_suspend,
     .resume     = accton_as6712_32x_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-fan.c b/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-fan.c
index 9a31c4bc822d..3db7427e4391 100644
--- a/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-fan.c
+++ b/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-fan.c
@@ -33,6 +33,7 @@
 #include <linux/device.h>
 #include <linux/platform_device.h>
 #include <linux/delay.h>
+#include <linux/version.h>
 
 #define FAN_MAX_NUMBER                   5
 #define FAN_SPEED_CPLD_TO_RPM_STEP       150
@@ -381,12 +382,22 @@ static int accton_as6812_32x_fan_remove(struct platform_device *pdev)
     
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as6812_32x_fan_remove_6_11(struct platform_device *pdev) {
+    accton_as6812_32x_fan_remove(pdev);
+}
+#endif
 
 #define DRVNAME "as6812_32x_fan"
 
 static struct platform_driver accton_as6812_32x_fan_driver = {
     .probe      = accton_as6812_32x_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as6812_32x_fan_remove_6_11,
+#else
+    
     .remove     = accton_as6812_32x_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-leds.c b/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-leds.c
index 0d90208c7d80..49409838742c 100644
--- a/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as6812-32x/modules/builds/x86-64-accton-as6812-32x-leds.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 extern int as6812_32x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as6812_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -550,10 +551,20 @@ static int accton_as6812_32x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as6812_32x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as6812_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as6812_32x_led_driver = {
     .probe      = accton_as6812_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as6812_32x_led_remove_6_11,
+#else
+    
     .remove     = accton_as6812_32x_led_remove,
+#endif
     .suspend    = accton_as6812_32x_led_suspend,
     .resume     = accton_as6812_32x_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as7112-54x/modules/builds/x86-64-accton-as7112-54x-led.c b/packages/platforms/accton/x86-64/as7112-54x/modules/builds/x86-64-accton-as7112-54x-led.c
index cac138c20083..ffb38d46c336 100755
--- a/packages/platforms/accton/x86-64/as7112-54x/modules/builds/x86-64-accton-as7112-54x-led.c
+++ b/packages/platforms/accton/x86-64/as7112-54x/modules/builds/x86-64-accton-as7112-54x-led.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as7112_54x_led"
 
@@ -350,9 +351,19 @@ static int as7112_54x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7112_54x_led_remove_6_11(struct platform_device *pdev) {
+	as7112_54x_led_remove(pdev);
+}
+#endif
 static struct platform_driver as7112_54x_led_driver = {
 	.probe	 = as7112_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7112_54x_led_remove_6_11,
+#else
+	
 	.remove	 = as7112_54x_led_remove,
+#endif
 	.driver	 = {
 	.name   = DRVNAME,
 	.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as7312-54x/modules/builds/x86-64-accton-as7312-54x-leds.c b/packages/platforms/accton/x86-64/as7312-54x/modules/builds/x86-64-accton-as7312-54x-leds.c
index f10a55674df9..70ca9179fdd2 100644
--- a/packages/platforms/accton/x86-64/as7312-54x/modules/builds/x86-64-accton-as7312-54x-leds.c
+++ b/packages/platforms/accton/x86-64/as7312-54x/modules/builds/x86-64-accton-as7312-54x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7312_54x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7312_54x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -376,10 +377,20 @@ static int accton_as7312_54x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7312_54x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as7312_54x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7312_54x_led_driver = {
     .probe	  = accton_as7312_54x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as7312_54x_led_remove_6_11,
+#else
+    
     .remove	 = accton_as7312_54x_led_remove,
+#endif
     .suspend	= accton_as7312_54x_led_suspend,
     .resume	 = accton_as7312_54x_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7312-54xs/modules/builds/x86-64-accton-as7312-54xs-leds.c b/packages/platforms/accton/x86-64/as7312-54xs/modules/builds/x86-64-accton-as7312-54xs-leds.c
index 7c4321e6b5df..c4f07287cb40 100644
--- a/packages/platforms/accton/x86-64/as7312-54xs/modules/builds/x86-64-accton-as7312-54xs-leds.c
+++ b/packages/platforms/accton/x86-64/as7312-54xs/modules/builds/x86-64-accton-as7312-54xs-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7312_54xs_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7312_54xs_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -376,10 +377,20 @@ static int accton_as7312_54xs_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7312_54xs_led_remove_6_11(struct platform_device *pdev) {
+    accton_as7312_54xs_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7312_54xs_led_driver = {
     .probe	  = accton_as7312_54xs_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as7312_54xs_led_remove_6_11,
+#else
+    
     .remove	 = accton_as7312_54xs_led_remove,
+#endif
     .suspend	= accton_as7312_54xs_led_suspend,
     .resume	 = accton_as7312_54xs_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7315-27xb/modules/builds/x86-64-accton-as7315-27xb-led.c b/packages/platforms/accton/x86-64/as7315-27xb/modules/builds/x86-64-accton-as7315-27xb-led.c
index dea9ca891a7c..f949d42b398a 100755
--- a/packages/platforms/accton/x86-64/as7315-27xb/modules/builds/x86-64-accton-as7315-27xb-led.c
+++ b/packages/platforms/accton/x86-64/as7315-27xb/modules/builds/x86-64-accton-as7315-27xb-led.c
@@ -28,6 +28,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as7315_27xb_led"
 #define CPLD_I2C_ADDR  0x64
@@ -367,10 +368,20 @@ static int accton_as7315_27xb_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7315_27xb_led_remove_6_11(struct platform_device *pdev) {
+    accton_as7315_27xb_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7315_27xb_led_driver = {
     .probe      = accton_as7315_27xb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as7315_27xb_led_remove_6_11,
+#else
+    
     .remove     = accton_as7315_27xb_led_remove,
+#endif
     .suspend    = accton_as7315_27xb_led_suspend,
     .resume     = accton_as7315_27xb_led_resume,
     .driver     = {
diff --git a/packages/platforms/accton/x86-64/as7315-30x/modules/builds/x86-64-accton-as7315-30x-leds.c b/packages/platforms/accton/x86-64/as7315-30x/modules/builds/x86-64-accton-as7315-30x-leds.c
index eaacb1032160..37c8df5faf5b 100644
--- a/packages/platforms/accton/x86-64/as7315-30x/modules/builds/x86-64-accton-as7315-30x-leds.c
+++ b/packages/platforms/accton/x86-64/as7315-30x/modules/builds/x86-64-accton-as7315-30x-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as7315_30x_led"
 
@@ -368,10 +369,20 @@ static int as7315_30x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7315_30x_led_remove_6_11(struct platform_device *pdev) {
+	as7315_30x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7315_30x_led_driver = {
 	.probe	= as7315_30x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7315_30x_led_remove_6_11,
+#else
+	
 	.remove	= as7315_30x_led_remove,
+#endif
 	.driver = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-fan.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-fan.c
index a4710bcec3b4..c6fcee1ab898 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-fan.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-fan.c
@@ -97,7 +97,12 @@ struct as7316_26xb_fan_data *data = NULL;
 
 static struct platform_driver as7316_26xb_fan_driver = {
     .probe      = as7316_26xb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7316_26xb_fan_remove_6_11,
+#else
+    
     .remove     = as7316_26xb_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -410,6 +415,11 @@ static int as7316_26xb_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_fan_remove_6_11(struct platform_device *pdev) {
+    as7316_26xb_fan_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-led.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-led.c
index b3a20c2188d3..fe9fc406ec0c 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-led.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-led.c
@@ -85,7 +85,12 @@ struct as7316_26xb_led_data *data = NULL;
 
 static struct platform_driver as7316_26xb_led_driver = {
     .probe      = as7316_26xb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7316_26xb_led_remove_6_11,
+#else
+    
     .remove     = as7316_26xb_led_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -421,6 +426,11 @@ static int as7316_26xb_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_led_remove_6_11(struct platform_device *pdev) {
+    as7316_26xb_led_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-psu.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-psu.c
index 6fe5e3a966ac..972219cf055d 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-psu.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-psu.c
@@ -121,7 +121,12 @@ struct as7316_26xb_psu_data *data = NULL;
 
 static struct platform_driver as7316_26xb_psu_driver = {
     .probe      = as7316_26xb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7316_26xb_psu_remove_6_11,
+#else
+    
     .remove     = as7316_26xb_psu_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -613,6 +618,11 @@ static int as7316_26xb_psu_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &as7316_26xb_psu_group);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_psu_remove_6_11(struct platform_device *pdev) {
+    as7316_26xb_psu_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sfp.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sfp.c
index 9432af541288..59874b6c5a6a 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sfp.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sfp.c
@@ -138,7 +138,12 @@ struct as7316_26xb_sfp_data *data = NULL;
 
 static struct platform_driver as7316_26xb_sfp_driver = {
     .probe      = as7316_26xb_sfp_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7316_26xb_sfp_remove_6_11,
+#else
+    
     .remove     = as7316_26xb_sfp_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -1509,6 +1514,11 @@ static int as7316_26xb_sfp_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_sfp_remove_6_11(struct platform_device *pdev) {
+    as7316_26xb_sfp_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_sfp_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sys.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sys.c
index 32bda64b209b..d2d262c9ebd5 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sys.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-sys.c
@@ -91,7 +91,12 @@ struct as7316_26xb_sys_data *data = NULL;
 
 static struct platform_driver as7316_26xb_sys_driver = {
 	.probe      = as7316_26xb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7316_26xb_sys_remove_6_11,
+#else
+	
 	.remove     = as7316_26xb_sys_remove,
+#endif
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -432,6 +437,11 @@ static int as7316_26xb_sys_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_sys_remove_6_11(struct platform_device *pdev) {
+	as7316_26xb_sys_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-thermal.c b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-thermal.c
index fe8ee18cf7e1..7c90d42793b1 100644
--- a/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-thermal.c
+++ b/packages/platforms/accton/x86-64/as7316-26xb/modules/builds/x86-64-accton-as7316-26xb-thermal.c
@@ -83,7 +83,12 @@ struct as7316_26xb_thermal_data *data = NULL;
 
 static struct platform_driver as7316_26xb_thermal_driver = {
     .probe      = as7316_26xb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7316_26xb_thermal_remove_6_11,
+#else
+    
     .remove     = as7316_26xb_thermal_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -298,6 +303,11 @@ static int as7316_26xb_thermal_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7316_26xb_thermal_remove_6_11(struct platform_device *pdev) {
+    as7316_26xb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as7316_26xb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7326-56x/modules/builds/x86-64-accton-as7326-56x-leds.c b/packages/platforms/accton/x86-64/as7326-56x/modules/builds/x86-64-accton-as7326-56x-leds.c
index 8484531bc63b..dca84b545a69 100644
--- a/packages/platforms/accton/x86-64/as7326-56x/modules/builds/x86-64-accton-as7326-56x-leds.c
+++ b/packages/platforms/accton/x86-64/as7326-56x/modules/builds/x86-64-accton-as7326-56x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7326_56x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7326_56x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -398,10 +399,20 @@ static int accton_as7326_56x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7326_56x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as7326_56x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7326_56x_led_driver = {
     .probe	  = accton_as7326_56x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as7326_56x_led_remove_6_11,
+#else
+    
     .remove	 = accton_as7326_56x_led_remove,
+#endif
     .suspend	= accton_as7326_56x_led_suspend,
     .resume	 = accton_as7326_56x_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7512-32x/modules/builds/x86-64-accton-as7512-32x-leds.c b/packages/platforms/accton/x86-64/as7512-32x/modules/builds/x86-64-accton-as7512-32x-leds.c
index ee7717016688..984d02624ad0 100644
--- a/packages/platforms/accton/x86-64/as7512-32x/modules/builds/x86-64-accton-as7512-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as7512-32x/modules/builds/x86-64-accton-as7512-32x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7512_32x_cpld_read(unsigned short cpld_addr, u8 reg);
 extern int as7512_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -441,10 +442,20 @@ static int accton_as7512_32x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7512_32x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as7512_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7512_32x_led_driver = {
 	.probe	 = accton_as7512_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as7512_32x_led_remove_6_11,
+#else
+	
 	.remove	 = accton_as7512_32x_led_remove,
+#endif
 	.suspend = accton_as7512_32x_led_suspend,
 	.resume  = accton_as7512_32x_led_resume,
 	.driver  = {
diff --git a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-fan.c b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-fan.c
index 5877ea4e917e..6cc44e0ce6ba 100644
--- a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-fan.c
+++ b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-fan.c
@@ -116,7 +116,12 @@ struct as7535_28xb_fan_data *data = NULL;
 
 static struct platform_driver as7535_28xb_fan_driver = {
 	.probe = as7535_28xb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7535_28xb_fan_remove_6_11,
+#else
+	
 	.remove = as7535_28xb_fan_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -653,6 +658,11 @@ static int as7535_28xb_fan_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7535_28xb_fan_remove_6_11(struct platform_device *pdev) {
+	as7535_28xb_fan_remove(pdev);
+}
+#endif
 
 static int __init as7535_28xb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-leds.c b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-leds.c
index a3e2b145c95e..5a0e34f1a63e 100644
--- a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-leds.c
+++ b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-leds.c
@@ -76,7 +76,12 @@ struct as7535_28xb_led_data *data = NULL;
 
 static struct platform_driver as7535_28xb_led_driver = {
 	.probe = as7535_28xb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7535_28xb_led_remove_6_11,
+#else
+	
 	.remove = as7535_28xb_led_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -483,6 +488,11 @@ static int as7535_28xb_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7535_28xb_led_remove_6_11(struct platform_device *pdev) {
+	as7535_28xb_led_remove(pdev);
+}
+#endif
 
 static int __init as7535_28xb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-psu.c b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-psu.c
index dd8c9e33e66b..d85ed014f841 100644
--- a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-psu.c
+++ b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-psu.c
@@ -185,7 +185,12 @@ struct as7535_28xb_psu_data *data = NULL;
 
 static struct platform_driver as7535_28xb_psu_driver = {
 	.probe = as7535_28xb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7535_28xb_psu_remove_6_11,
+#else
+	
 	.remove = as7535_28xb_psu_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -944,6 +949,11 @@ static int as7535_28xb_psu_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as7535_28xb_psu_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7535_28xb_psu_remove_6_11(struct platform_device *pdev) {
+	as7535_28xb_psu_remove(pdev);
+}
+#endif
 
 static int __init as7535_28xb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-sys.c b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-sys.c
index fb9fb659238d..7fc8068996ce 100644
--- a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-sys.c
+++ b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-sys.c
@@ -83,7 +83,12 @@ struct as7535_28xb_sys_data *data = NULL;
 
 static struct platform_driver as7535_28xb_sys_driver = {
 	.probe = as7535_28xb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7535_28xb_sys_remove_6_11,
+#else
+	
 	.remove = as7535_28xb_sys_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -406,6 +411,11 @@ static int as7535_28xb_sys_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7535_28xb_sys_remove_6_11(struct platform_device *pdev) {
+	as7535_28xb_sys_remove(pdev);
+}
+#endif
 
 static int __init as7535_28xb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-thermal.c b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-thermal.c
index 604bd3452f07..5878783bd887 100644
--- a/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-thermal.c
+++ b/packages/platforms/accton/x86-64/as7535-28xb/modules/builds/x86-64-accton-as7535-28xb-thermal.c
@@ -86,7 +86,12 @@ struct as7535_28xb_thermal_data *data = NULL;
 
 static struct platform_driver as7535_28xb_thermal_driver = {
 	.probe = as7535_28xb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7535_28xb_thermal_remove_6_11,
+#else
+	
 	.remove = as7535_28xb_thermal_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -368,6 +373,11 @@ static int as7535_28xb_thermal_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as7535_28xb_thermal_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7535_28xb_thermal_remove_6_11(struct platform_device *pdev) {
+	as7535_28xb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as7535_28xb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7712-32x/modules/builds/x86-64-accton-as7712-32x-leds.c b/packages/platforms/accton/x86-64/as7712-32x/modules/builds/x86-64-accton-as7712-32x-leds.c
index d7b293540c5e..f3c84f5b2a5f 100644
--- a/packages/platforms/accton/x86-64/as7712-32x/modules/builds/x86-64-accton-as7712-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as7712-32x/modules/builds/x86-64-accton-as7712-32x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7712_32x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7712_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -376,10 +377,20 @@ static int accton_as7712_32x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7712_32x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as7712_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7712_32x_led_driver = {
 	.probe	  = accton_as7712_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as7712_32x_led_remove_6_11,
+#else
+	
 	.remove	 = accton_as7712_32x_led_remove,
+#endif
 	.suspend	= accton_as7712_32x_led_suspend,
 	.resume	 = accton_as7712_32x_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7716-24sc/modules/builds/x86-64-accton-as7716-24sc-leds.c b/packages/platforms/accton/x86-64/as7716-24sc/modules/builds/x86-64-accton-as7716-24sc-leds.c
index 4a98c3abb675..e6c8732efb44 100644
--- a/packages/platforms/accton/x86-64/as7716-24sc/modules/builds/x86-64-accton-as7716-24sc-leds.c
+++ b/packages/platforms/accton/x86-64/as7716-24sc/modules/builds/x86-64-accton-as7716-24sc-leds.c
@@ -28,7 +28,8 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
-#include <linux/dmi.h>
+#include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int accton_i2c_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int accton_i2c_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -373,11 +374,22 @@ static int as7716_24sc_led_remove(struct platform_device *pdev)
 	}
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7716_24sc_led_remove_6_11(struct platform_device *pdev) {
+	as7716_24sc_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7716_24sc_led_driver = {
 	.probe	 = as7716_24sc_led_probe,
-	.remove	 = as7716_24sc_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7716_24sc_led_remove_6_11,
+#else
+	
+	.remove	 = as7716_24sc_led_remove,
+#endif
+
 	.suspend = as7716_24sc_led_suspend,
 	.resume	 = as7716_24sc_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7716-24xc/modules/builds/x86-64-accton-as7716-24xc-leds.c b/packages/platforms/accton/x86-64/as7716-24xc/modules/builds/x86-64-accton-as7716-24xc-leds.c
index 3b5d97412dba..779cfaa3d30d 100644
--- a/packages/platforms/accton/x86-64/as7716-24xc/modules/builds/x86-64-accton-as7716-24xc-leds.c
+++ b/packages/platforms/accton/x86-64/as7716-24xc/modules/builds/x86-64-accton-as7716-24xc-leds.c
@@ -28,7 +28,8 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
-#include <linux/dmi.h>
+#include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int accton_i2c_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int accton_i2c_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -373,11 +374,22 @@ static int as7716_24xc_led_remove(struct platform_device *pdev)
 	}
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7716_24xc_led_remove_6_11(struct platform_device *pdev) {
+	as7716_24xc_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7716_24xc_led_driver = {
 	.probe	 = as7716_24xc_led_probe,
-	.remove	 = as7716_24xc_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7716_24xc_led_remove_6_11,
+#else
+	
+	.remove	 = as7716_24xc_led_remove,
+#endif
+
 	.suspend = as7716_24xc_led_suspend,
 	.resume	 = as7716_24xc_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7716-32x/modules/builds/x86-64-accton-as7716-32x-leds.c b/packages/platforms/accton/x86-64/as7716-32x/modules/builds/x86-64-accton-as7716-32x-leds.c
index 4b2527682129..340e064da807 100644
--- a/packages/platforms/accton/x86-64/as7716-32x/modules/builds/x86-64-accton-as7716-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as7716-32x/modules/builds/x86-64-accton-as7716-32x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7716_32x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7716_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -376,10 +377,20 @@ static int accton_as7716_32x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7716_32x_led_remove_6_11(struct platform_device *pdev) {
+	accton_as7716_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7716_32x_led_driver = {
 	.probe	  = accton_as7716_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_as7716_32x_led_remove_6_11,
+#else
+	
 	.remove	 = accton_as7716_32x_led_remove,
+#endif
 	.suspend	= accton_as7716_32x_led_suspend,
 	.resume	 = accton_as7716_32x_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7726-32x/modules/builds/x86-64-accton-as7726-32x-leds.c b/packages/platforms/accton/x86-64/as7726-32x/modules/builds/x86-64-accton-as7726-32x-leds.c
index b6e34ac4f740..fd0aa2822c81 100755
--- a/packages/platforms/accton/x86-64/as7726-32x/modules/builds/x86-64-accton-as7726-32x-leds.c
+++ b/packages/platforms/accton/x86-64/as7726-32x/modules/builds/x86-64-accton-as7726-32x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7726_32x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7726_32x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -375,10 +376,20 @@ static int accton_as7726_32x_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as7726_32x_led_remove_6_11(struct platform_device *pdev) {
+    accton_as7726_32x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as7726_32x_led_driver = {
     .probe	  = accton_as7726_32x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as7726_32x_led_remove_6_11,
+#else
+    
     .remove	 = accton_as7726_32x_led_remove,
+#endif
     .suspend	= accton_as7726_32x_led_suspend,
     .resume	 = accton_as7726_32x_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7816-64x/modules/builds/x86-64-accton-as7816-64x-leds.c b/packages/platforms/accton/x86-64/as7816-64x/modules/builds/x86-64-accton-as7816-64x-leds.c
index 4ff17221c467..863a105cd6b7 100644
--- a/packages/platforms/accton/x86-64/as7816-64x/modules/builds/x86-64-accton-as7816-64x-leds.c
+++ b/packages/platforms/accton/x86-64/as7816-64x/modules/builds/x86-64-accton-as7816-64x-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7816_64x_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as7816_64x_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -397,10 +398,20 @@ static int as7816_64x_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7816_64x_led_remove_6_11(struct platform_device *pdev) {
+	as7816_64x_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7816_64x_led_driver = {
 	.probe	 = as7816_64x_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7816_64x_led_remove_6_11,
+#else
+	
 	.remove	 = as7816_64x_led_remove,
+#endif
 	.suspend = as7816_64x_led_suspend,
 	.resume	 = as7816_64x_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-fan.c b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-fan.c
index ad9c963fa637..8061097a25db 100644
--- a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-fan.c
+++ b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-fan.c
@@ -121,7 +121,12 @@ struct as7926_40xfb_fan_data *data = NULL;
 
 static struct platform_driver as7926_40xfb_fan_driver = {
 	.probe = as7926_40xfb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xfb_fan_remove_6_11,
+#else
+	
 	.remove = as7926_40xfb_fan_remove,
+#endif
 	.driver = {
 		   .name = DRVNAME,
 		   .owner = THIS_MODULE,
@@ -682,6 +687,11 @@ static int as7926_40xfb_fan_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xfb_fan_remove_6_11(struct platform_device *pdev) {
+	as7926_40xfb_fan_remove(pdev);
+}
+#endif
 
 static int __init as7926_40xfb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-leds.c b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-leds.c
index 5df944bd2780..c0e87578a3ef 100644
--- a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-leds.c
+++ b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-leds.c
@@ -80,7 +80,12 @@ struct as7926_40xfb_led_data *data = NULL;
 
 static struct platform_driver as7926_40xfb_led_driver = {
 	.probe = as7926_40xfb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xfb_led_remove_6_11,
+#else
+	
 	.remove = as7926_40xfb_led_remove,
+#endif
 	.driver = {
 		   .name = DRVNAME,
 		   .owner = THIS_MODULE,
@@ -453,6 +458,11 @@ static int as7926_40xfb_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xfb_led_remove_6_11(struct platform_device *pdev) {
+	as7926_40xfb_led_remove(pdev);
+}
+#endif
 
 static int __init as7926_40xfb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-psu.c b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-psu.c
index b9bcdf183054..b1ea03379688 100644
--- a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-psu.c
+++ b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-psu.c
@@ -176,7 +176,12 @@ struct as7926_40xfb_psu_data *data = NULL;
 
 static struct platform_driver as7926_40xfb_psu_driver = {
 	.probe = as7926_40xfb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xfb_psu_remove_6_11,
+#else
+	
 	.remove = as7926_40xfb_psu_remove,
+#endif
 	.driver = {
 		   .name = DRVNAME,
 		   .owner = THIS_MODULE,
@@ -866,6 +871,11 @@ static int as7926_40xfb_psu_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as7926_40xfb_psu_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xfb_psu_remove_6_11(struct platform_device *pdev) {
+	as7926_40xfb_psu_remove(pdev);
+}
+#endif
 
 static int __init as7926_40xfb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-sys.c b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-sys.c
index fe909e7d75a2..deed5c2639e7 100644
--- a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-sys.c
+++ b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-sys.c
@@ -82,7 +82,12 @@ struct as7926_40xfb_sys_data *data = NULL;
 
 static struct platform_driver as7926_40xfb_sys_driver = {
 	.probe = as7926_40xfb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xfb_sys_remove_6_11,
+#else
+	
 	.remove = as7926_40xfb_sys_remove,
+#endif
 	.driver = {
 		   .name = DRVNAME,
 		   .owner = THIS_MODULE,
@@ -339,6 +344,11 @@ static int as7926_40xfb_sys_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xfb_sys_remove_6_11(struct platform_device *pdev) {
+	as7926_40xfb_sys_remove(pdev);
+}
+#endif
 
 static int __init as7926_40xfb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-thermal.c b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-thermal.c
index abec98eb4d3e..66089585f8a1 100644
--- a/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-thermal.c
+++ b/packages/platforms/accton/x86-64/as7926-40xfb/modules/builds/x86-64-accton-as7926-40xfb-thermal.c
@@ -91,7 +91,12 @@ struct as7926_40xfb_thermal_data *data = NULL;
 
 static struct platform_driver as7926_40xfb_thermal_driver = {
 	.probe = as7926_40xfb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xfb_thermal_remove_6_11,
+#else
+	
 	.remove = as7926_40xfb_thermal_remove,
+#endif
 	.driver = {
 		   .name = DRVNAME,
 		   .owner = THIS_MODULE,
@@ -393,6 +398,11 @@ static int as7926_40xfb_thermal_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xfb_thermal_remove_6_11(struct platform_device *pdev) {
+	as7926_40xfb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as7926_40xfb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7926-40xke/modules/builds/x86-64-accton-as7926-40xke-leds.c b/packages/platforms/accton/x86-64/as7926-40xke/modules/builds/x86-64-accton-as7926-40xke-leds.c
index e622da8e5fe9..b817fc237dc6 100755
--- a/packages/platforms/accton/x86-64/as7926-40xke/modules/builds/x86-64-accton-as7926-40xke-leds.c
+++ b/packages/platforms/accton/x86-64/as7926-40xke/modules/builds/x86-64-accton-as7926-40xke-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7926_40xke_cpld_read(int bus_num, unsigned short cpld_addr, u8 reg);
 extern int as7926_40xke_cpld_write(int bus_num, unsigned short cpld_addr, u8 reg, u8 value);
@@ -425,10 +426,20 @@ static int as7926_40xke_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_40xke_led_remove_6_11(struct platform_device *pdev) {
+	as7926_40xke_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7926_40xke_led_driver = {
 	.probe	 = as7926_40xke_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_40xke_led_remove_6_11,
+#else
+	
 	.remove	 = as7926_40xke_led_remove,
+#endif
 	.suspend = as7926_40xke_led_suspend,
 	.resume	 = as7926_40xke_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7926-80xk/modules/builds/x86-64-accton-as7926-80xk-leds.c b/packages/platforms/accton/x86-64/as7926-80xk/modules/builds/x86-64-accton-as7926-80xk-leds.c
index cc60914395d4..348326d7fab2 100644
--- a/packages/platforms/accton/x86-64/as7926-80xk/modules/builds/x86-64-accton-as7926-80xk-leds.c
+++ b/packages/platforms/accton/x86-64/as7926-80xk/modules/builds/x86-64-accton-as7926-80xk-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as7926_80xk_cpld_read(int bus_num, unsigned short cpld_addr, u8 reg);
 extern int as7926_80xk_cpld_write(int bus_num, unsigned short cpld_addr, u8 reg, u8 value);
@@ -398,10 +399,20 @@ static int as7926_80xk_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7926_80xk_led_remove_6_11(struct platform_device *pdev) {
+	as7926_80xk_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7926_80xk_led_driver = {
 	.probe	 = as7926_80xk_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7926_80xk_led_remove_6_11,
+#else
+	
 	.remove	 = as7926_80xk_led_remove,
+#endif
 	.suspend = as7926_80xk_led_suspend,
 	.resume	 = as7926_80xk_led_resume,
 	.driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7936-22xke/modules/builds/x86-64-accton-as7936-22xke-leds.c b/packages/platforms/accton/x86-64/as7936-22xke/modules/builds/x86-64-accton-as7936-22xke-leds.c
index ea0aa0655bd8..21d0524c9f00 100644
--- a/packages/platforms/accton/x86-64/as7936-22xke/modules/builds/x86-64-accton-as7936-22xke-leds.c
+++ b/packages/platforms/accton/x86-64/as7936-22xke/modules/builds/x86-64-accton-as7936-22xke-leds.c
@@ -30,6 +30,7 @@
 #include <linux/slab.h>
 #include <linux/dmi.h>
 #include <linux/printk.h>
+#include <linux/version.h>
 
 extern int as7936_22xke_cpld_read(int bus_num, unsigned short cpld_addr, u8 reg);
 extern int as7936_22xke_cpld_write(int bus_num, unsigned short cpld_addr, u8 reg, u8 value);
@@ -454,10 +455,20 @@ static int as7936_22xke_led_remove(struct platform_device *pdev)
     }
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7936_22xke_led_remove_6_11(struct platform_device *pdev) {
+    as7936_22xke_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as7936_22xke_led_driver = {
     .probe	 = as7936_22xke_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as7936_22xke_led_remove_6_11,
+#else
+    
     .remove	 = as7936_22xke_led_remove,
+#endif
     .suspend = as7936_22xke_led_suspend,
     .resume	 = as7936_22xke_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-fan.c b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-fan.c
index 6d67b5dac907..0180cd941c6b 100644
--- a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-fan.c
+++ b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-fan.c
@@ -109,7 +109,12 @@ struct as7946_30xb_fan_data *data = NULL;
 
 static struct platform_driver as7946_30xb_fan_driver = {
 	.probe = as7946_30xb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_30xb_fan_remove_6_11,
+#else
+	
 	.remove = as7946_30xb_fan_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -576,6 +581,11 @@ static int as7946_30xb_fan_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_30xb_fan_remove_6_11(struct platform_device *pdev) {
+	as7946_30xb_fan_remove(pdev);
+}
+#endif
 
 static int __init as7946_30xb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-leds.c b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-leds.c
index 54fea4737a46..19ee9183508d 100644
--- a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-leds.c
+++ b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-leds.c
@@ -76,7 +76,12 @@ struct as7946_30xb_led_data *data = NULL;
 
 static struct platform_driver as7946_30xb_led_driver = {
 	.probe = as7946_30xb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_30xb_led_remove_6_11,
+#else
+	
 	.remove = as7946_30xb_led_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -492,6 +497,11 @@ static int as7946_30xb_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_30xb_led_remove_6_11(struct platform_device *pdev) {
+	as7946_30xb_led_remove(pdev);
+}
+#endif
 
 static int __init as7946_30xb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-psu.c b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-psu.c
index cae7c50a5d6b..7a89831c5107 100644
--- a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-psu.c
+++ b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-psu.c
@@ -135,7 +135,12 @@ struct as7946_30xb_psu_data *data = NULL;
 
 static struct platform_driver as7946_30xb_psu_driver = {
 	.probe = as7946_30xb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_30xb_psu_remove_6_11,
+#else
+	
 	.remove = as7946_30xb_psu_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -649,6 +654,11 @@ static int as7946_30xb_psu_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as7946_30xb_psu_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_30xb_psu_remove_6_11(struct platform_device *pdev) {
+	as7946_30xb_psu_remove(pdev);
+}
+#endif
 
 static int __init as7946_30xb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-sys.c b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-sys.c
index fdd6ac5d28fd..24b1e022428e 100644
--- a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-sys.c
+++ b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-sys.c
@@ -85,7 +85,12 @@ struct as7946_30xb_sys_data *data = NULL;
 
 static struct platform_driver as7946_30xb_sys_driver = {
 	.probe      = as7946_30xb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_30xb_sys_remove_6_11,
+#else
+	
 	.remove     = as7946_30xb_sys_remove,
+#endif
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -419,6 +424,11 @@ static int as7946_30xb_sys_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_30xb_sys_remove_6_11(struct platform_device *pdev) {
+	as7946_30xb_sys_remove(pdev);
+}
+#endif
 
 static int __init as7946_30xb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-thermal.c b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-thermal.c
index 0fd2a77190ce..23e1a36cb23d 100644
--- a/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-thermal.c
+++ b/packages/platforms/accton/x86-64/as7946-30xb/modules/builds/x86-64-accton-as7946-30xb-thermal.c
@@ -83,7 +83,12 @@ struct as7946_30xb_thermal_data *data = NULL;
 
 static struct platform_driver as7946_30xb_thermal_driver = {
 	.probe = as7946_30xb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_30xb_thermal_remove_6_11,
+#else
+	
 	.remove = as7946_30xb_thermal_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -333,6 +338,11 @@ static int as7946_30xb_thermal_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_30xb_thermal_remove_6_11(struct platform_device *pdev) {
+	as7946_30xb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as7946_30xb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-fan.c b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-fan.c
index c17a1117e3cf..7f2882404cd4 100644
--- a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-fan.c
+++ b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-fan.c
@@ -109,7 +109,12 @@ struct as7946_74xkb_fan_data *data = NULL;
 
 static struct platform_driver as7946_74xkb_fan_driver = {
 	.probe = as7946_74xkb_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_74xkb_fan_remove_6_11,
+#else
+	
 	.remove = as7946_74xkb_fan_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -576,6 +581,11 @@ static int as7946_74xkb_fan_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_74xkb_fan_remove_6_11(struct platform_device *pdev) {
+	as7946_74xkb_fan_remove(pdev);
+}
+#endif
 
 static int __init as7946_74xkb_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-leds.c b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-leds.c
index 18b91a433875..265f9c4f1a27 100644
--- a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-leds.c
+++ b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-leds.c
@@ -76,7 +76,12 @@ struct as7946_74xkb_led_data *data = NULL;
 
 static struct platform_driver as7946_74xkb_led_driver = {
 	.probe = as7946_74xkb_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_74xkb_led_remove_6_11,
+#else
+	
 	.remove = as7946_74xkb_led_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -492,6 +497,11 @@ static int as7946_74xkb_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_74xkb_led_remove_6_11(struct platform_device *pdev) {
+	as7946_74xkb_led_remove(pdev);
+}
+#endif
 
 static int __init as7946_74xkb_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-psu.c b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-psu.c
index ce6202566e2d..92d5a1074d90 100644
--- a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-psu.c
+++ b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-psu.c
@@ -135,7 +135,12 @@ struct as7946_74xkb_psu_data *data = NULL;
 
 static struct platform_driver as7946_74xkb_psu_driver = {
 	.probe = as7946_74xkb_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_74xkb_psu_remove_6_11,
+#else
+	
 	.remove = as7946_74xkb_psu_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -649,6 +654,11 @@ static int as7946_74xkb_psu_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as7946_74xkb_psu_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_74xkb_psu_remove_6_11(struct platform_device *pdev) {
+	as7946_74xkb_psu_remove(pdev);
+}
+#endif
 
 static int __init as7946_74xkb_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-sys.c b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-sys.c
index 40794af7f64a..1823e16b473e 100644
--- a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-sys.c
+++ b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-sys.c
@@ -85,7 +85,12 @@ struct as7946_74xkb_sys_data *data = NULL;
 
 static struct platform_driver as7946_74xkb_sys_driver = {
 	.probe      = as7946_74xkb_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_74xkb_sys_remove_6_11,
+#else
+	
 	.remove     = as7946_74xkb_sys_remove,
+#endif
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -419,6 +424,11 @@ static int as7946_74xkb_sys_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_74xkb_sys_remove_6_11(struct platform_device *pdev) {
+	as7946_74xkb_sys_remove(pdev);
+}
+#endif
 
 static int __init as7946_74xkb_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-thermal.c b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-thermal.c
index be73da0ad186..633b67f7a38d 100644
--- a/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-thermal.c
+++ b/packages/platforms/accton/x86-64/as7946-74xkb/modules/builds/x86-64-accton-as7946-74xkb-thermal.c
@@ -83,7 +83,12 @@ struct as7946_74xkb_thermal_data *data = NULL;
 
 static struct platform_driver as7946_74xkb_thermal_driver = {
 	.probe = as7946_74xkb_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as7946_74xkb_thermal_remove_6_11,
+#else
+	
 	.remove = as7946_74xkb_thermal_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -333,6 +338,11 @@ static int as7946_74xkb_thermal_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as7946_74xkb_thermal_remove_6_11(struct platform_device *pdev) {
+	as7946_74xkb_thermal_remove(pdev);
+}
+#endif
 
 static int __init as7946_74xkb_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9716_32d/modules/builds/x86-64-accton-as9716-32d-leds.c b/packages/platforms/accton/x86-64/as9716_32d/modules/builds/x86-64-accton-as9716-32d-leds.c
index 6250cfe6376e..a05e93d3a24f 100755
--- a/packages/platforms/accton/x86-64/as9716_32d/modules/builds/x86-64-accton-as9716-32d-leds.c
+++ b/packages/platforms/accton/x86-64/as9716_32d/modules/builds/x86-64-accton-as9716-32d-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int as9716_32d_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int as9716_32d_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -412,10 +413,20 @@ static int accton_as9716_32d_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_as9716_32d_led_remove_6_11(struct platform_device *pdev) {
+    accton_as9716_32d_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_as9716_32d_led_driver = {
     .probe	  = accton_as9716_32d_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_as9716_32d_led_remove_6_11,
+#else
+    
     .remove	 = accton_as9716_32d_led_remove,
+#endif
     .suspend	= accton_as9716_32d_led_suspend,
     .resume	 = accton_as9716_32d_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-fpga.c b/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-fpga.c
index 624aca0944e3..09954ea2827b 100644
--- a/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-fpga.c
+++ b/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-fpga.c
@@ -39,6 +39,7 @@
 #include <linux/delay.h>
 #include <linux/list.h>
 #include <linux/pci.h>
+#include <linux/version.h>
 
 
 #define DRVNAME "as9926_24d_fpga"
@@ -319,10 +320,20 @@ static int as9926_24d_fpga_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24d_fpga_remove_6_11(struct platform_device *pdev) {
+    as9926_24d_fpga_remove(pdev);
+}
+#endif
 
 static struct platform_driver as9926_24d_fpga_driver = {
     .probe     = as9926_24d_fpga_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as9926_24d_fpga_remove_6_11,
+#else
+    
     .remove     = as9926_24d_fpga_remove,
+#endif
     .driver     = {
         .name  = DRVNAME,
         .owner = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-leds.c b/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-leds.c
index 03cc4e073a59..5abc3bae5b1d 100644
--- a/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-leds.c
+++ b/packages/platforms/accton/x86-64/as9926-24d/modules/builds/x86-64-accton-as9926-24d-leds.c
@@ -26,6 +26,7 @@
 #include <linux/err.h>
 #include <linux/leds.h>
 #include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "as9926_24d_led"
 
@@ -317,10 +318,20 @@ static int as9926_24d_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24d_led_remove_6_11(struct platform_device *pdev) {
+    as9926_24d_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver as9926_24d_led_driver = {
     .probe    = as9926_24d_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = as9926_24d_led_remove_6_11,
+#else
+    
     .remove    = as9926_24d_led_remove,
+#endif
     .driver = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-fan.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-fan.c
index 1050c6b15cb7..801518a3026c 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-fan.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-fan.c
@@ -104,7 +104,13 @@ struct as9926_24db_fan_data *data = NULL;
 
 static struct platform_driver as9926_24db_fan_driver = {
 	.probe      = as9926_24db_fan_probe,
-	.remove     = as9926_24db_fan_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_fan_remove_6_11,
+#else
+	
+	.remove     = as9926_24db_fan_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -507,7 +513,12 @@ static int as9926_24db_fan_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_fan_group);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_fan_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_fan_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-leds.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-leds.c
index ec344d088206..37f4705ceca8 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-leds.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-leds.c
@@ -79,7 +79,13 @@ struct as9926_24db_led_data *data = NULL;
 
 static struct platform_driver as9926_24db_led_driver = {
 	.probe      = as9926_24db_led_probe,
-	.remove     = as9926_24db_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_led_remove_6_11,
+#else
+	
+	.remove     = as9926_24db_led_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -426,7 +432,12 @@ static int as9926_24db_led_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_led_group);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_led_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_led_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-psu.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-psu.c
index 2221e48b2403..4007cbfa469c 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-psu.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-psu.c
@@ -132,7 +132,12 @@ struct as9926_24db_psu_data *data = NULL;
 
 static struct platform_driver as9926_24db_psu_driver = {
 	.probe = as9926_24db_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_psu_remove_6_11,
+#else
+	
 	.remove = as9926_24db_psu_remove,
+#endif
 	.driver = {
 		.name = DRVNAME,
 		.owner = THIS_MODULE,
@@ -631,6 +636,11 @@ static int as9926_24db_psu_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_psu_group);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_psu_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_psu_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sfp.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sfp.c
index 66bbf76c895f..aedb7ec655e2 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sfp.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sfp.c
@@ -170,7 +170,13 @@ struct as9926_24db_sfp_data *data = NULL;
 
 static struct platform_driver as9926_24db_sfp_driver = {
 	.probe      = as9926_24db_sfp_probe,
-	.remove     = as9926_24db_sfp_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_sfp_remove_6_11,
+#else
+	
+	.remove     = as9926_24db_sfp_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -1699,7 +1705,12 @@ static int as9926_24db_sfp_remove(struct platform_device *pdev)
 
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_sfp_group);
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_sfp_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_sfp_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_sfp_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sys.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sys.c
index da679a6e9ab8..fc23b4930393 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sys.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-sys.c
@@ -87,7 +87,13 @@ struct as9926_24db_sys_data *data = NULL;
 
 static struct platform_driver as9926_24db_sys_driver = {
 	.probe      = as9926_24db_sys_probe,
-	.remove     = as9926_24db_sys_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_sys_remove_6_11,
+#else
+	
+	.remove     = as9926_24db_sys_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -422,7 +428,12 @@ static int as9926_24db_sys_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_sys_group);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_sys_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_sys_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-thermal.c b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-thermal.c
index 1b0b8b7aa2cb..617ee5243693 100644
--- a/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-thermal.c
+++ b/packages/platforms/accton/x86-64/as9926-24db/modules/builds/x86-64-accton-as9926-24db-thermal.c
@@ -78,7 +78,13 @@ struct as9926_24db_thermal_data *data = NULL;
 
 static struct platform_driver as9926_24db_thermal_driver = {
 	.probe      = as9926_24db_thermal_probe,
-	.remove     = as9926_24db_thermal_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = as9926_24db_thermal_remove_6_11,
+#else
+	
+	.remove     = as9926_24db_thermal_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -303,7 +309,12 @@ static int as9926_24db_thermal_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &as9926_24db_thermal_group);	
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void as9926_24db_thermal_remove_6_11(struct platform_device *pdev) {
+	as9926_24db_thermal_remove(pdev);
+}
+#endif
 
 static int __init as9926_24db_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fan.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fan.c
index af0b7b817ed0..9c9b783cf0ce 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fan.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fan.c
@@ -92,7 +92,12 @@ struct asgvolt64_fan_data *data = NULL;
 
 static struct platform_driver asgvolt64_fan_driver = {
     .probe      = asgvolt64_fan_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = asgvolt64_fan_remove_6_11,
+#else
+    
     .remove     = asgvolt64_fan_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -400,6 +405,11 @@ static int asgvolt64_fan_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void asgvolt64_fan_remove_6_11(struct platform_device *pdev) {
+    asgvolt64_fan_remove(pdev);
+}
+#endif
 
 static int __init asgvolt64_fan_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fpga.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fpga.c
index d5f74f7e872a..97ccf7270d87 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fpga.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-fpga.c
@@ -38,6 +38,7 @@
 #include <linux/slab.h>
 #include <linux/delay.h>
 #include <linux/list.h>
+#include <linux/version.h>
 
 
 #define DRVNAME "asgvolt64_fpga"
@@ -198,10 +199,20 @@ static int accton_fpga_remove(struct platform_device *pdev)
     }   
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_fpga_remove_6_11(struct platform_device *pdev) {
+    accton_fpga_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_fpga_driver = {
     .probe	  = accton_fpga_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_fpga_remove_6_11,
+#else
+    
     .remove	 = accton_fpga_remove,
+#endif
     .suspend	= accton_fpga_suspend,
     .resume	 = accton_fpga_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-leds.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-leds.c
index cc98f52aa092..381521e731a1 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-leds.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-leds.c
@@ -83,7 +83,12 @@ struct asgvolt64_led_data *data = NULL;
 
 static struct platform_driver asgvolt64_led_driver = {
     .probe      = asgvolt64_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = asgvolt64_led_remove_6_11,
+#else
+    
     .remove     = asgvolt64_led_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -446,6 +451,11 @@ static int asgvolt64_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void asgvolt64_led_remove_6_11(struct platform_device *pdev) {
+    asgvolt64_led_remove(pdev);
+}
+#endif
 
 static int __init asgvolt64_led_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-psu.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-psu.c
index 1cb673f97527..532cc37f9bba 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-psu.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-psu.c
@@ -116,7 +116,12 @@ struct asgvolt64_psu_data *data = NULL;
 
 static struct platform_driver asgvolt64_psu_driver = {
     .probe      = asgvolt64_psu_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = asgvolt64_psu_remove_6_11,
+#else
+    
     .remove     = asgvolt64_psu_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -568,6 +573,11 @@ static int asgvolt64_psu_remove(struct platform_device *pdev)
     sysfs_remove_group(&pdev->dev.kobj, &asgvolt64_psu_group);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void asgvolt64_psu_remove_6_11(struct platform_device *pdev) {
+    asgvolt64_psu_remove(pdev);
+}
+#endif
 
 static int __init asgvolt64_psu_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-sys.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-sys.c
index 16e8f36c579c..cef78645d9c0 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-sys.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-sys.c
@@ -76,7 +76,12 @@ struct asgvolt64_sys_data *data = NULL;
 
 static struct platform_driver asgvolt64_sys_driver = {
     .probe      = asgvolt64_sys_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = asgvolt64_sys_remove_6_11,
+#else
+    
     .remove     = asgvolt64_sys_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -352,6 +357,11 @@ static int asgvolt64_sys_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void asgvolt64_sys_remove_6_11(struct platform_device *pdev) {
+    asgvolt64_sys_remove(pdev);
+}
+#endif
 
 static int __init asgvolt64_sys_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-thermal.c b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-thermal.c
index f33826d2d900..6a2f52949e2d 100755
--- a/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-thermal.c
+++ b/packages/platforms/accton/x86-64/asgvolt64/modules/builds/x86-64-accton-asgvolt64-thermal.c
@@ -78,7 +78,12 @@ struct asgvolt64_thermal_data *data = NULL;
 
 static struct platform_driver asgvolt64_thermal_driver = {
     .probe      = asgvolt64_thermal_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = asgvolt64_thermal_remove_6_11,
+#else
+    
     .remove     = asgvolt64_thermal_remove,
+#endif
     .driver     = {
         .name   = DRVNAME,
         .owner  = THIS_MODULE,
@@ -296,6 +301,11 @@ static int asgvolt64_thermal_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void asgvolt64_thermal_remove_6_11(struct platform_device *pdev) {
+    asgvolt64_thermal_remove(pdev);
+}
+#endif
 
 static int __init asgvolt64_thermal_init(void)
 {
diff --git a/packages/platforms/accton/x86-64/asxvolt16/modules/builds/x86-64-accton-asxvolt16-leds.c b/packages/platforms/accton/x86-64/asxvolt16/modules/builds/x86-64-accton-asxvolt16-leds.c
index da47c54d997b..16c40587673a 100755
--- a/packages/platforms/accton/x86-64/asxvolt16/modules/builds/x86-64-accton-asxvolt16-leds.c
+++ b/packages/platforms/accton/x86-64/asxvolt16/modules/builds/x86-64-accton-asxvolt16-leds.c
@@ -25,7 +25,8 @@
 #include <linux/platform_device.h>
 #include <linux/err.h>
 #include <linux/leds.h>
-#include <linux/slab.h>
+#include <linux/slab.h>
+#include <linux/version.h>
 
 #define DRVNAME "asxvolt16_led"
 
@@ -318,11 +319,22 @@ static int accton_asxvolt16_led_remove(struct platform_device *pdev)
 	}
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_asxvolt16_led_remove_6_11(struct platform_device *pdev) {
+	accton_asxvolt16_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_asxvolt16_led_driver = {
 	.probe	  = accton_asxvolt16_led_probe,
-	.remove	 = accton_asxvolt16_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_asxvolt16_led_remove_6_11,
+#else
+	
+	.remove	 = accton_asxvolt16_led_remove,
+#endif
+
 	.driver	 = {
 	.name   = DRVNAME,
 	.owner  = THIS_MODULE,
diff --git a/packages/platforms/accton/x86-64/csp9250/modules/builds/x86-64-accton-csp9250-leds.c b/packages/platforms/accton/x86-64/csp9250/modules/builds/x86-64-accton-csp9250-leds.c
index c6237ccd5dde..e5b7febd9e8d 100755
--- a/packages/platforms/accton/x86-64/csp9250/modules/builds/x86-64-accton-csp9250-leds.c
+++ b/packages/platforms/accton/x86-64/csp9250/modules/builds/x86-64-accton-csp9250-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int csp9250_i2c_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int csp9250_i2c_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -377,10 +378,20 @@ static int accton_csp9250_led_remove(struct platform_device *pdev)
 
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_csp9250_led_remove_6_11(struct platform_device *pdev) {
+    accton_csp9250_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_csp9250_led_driver = {
     .probe	  = accton_csp9250_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = accton_csp9250_led_remove_6_11,
+#else
+    
     .remove	 = accton_csp9250_led_remove,
+#endif
     .suspend	= accton_csp9250_led_suspend,
     .resume	 = accton_csp9250_led_resume,
     .driver	 = {
diff --git a/packages/platforms/accton/x86-64/es7632bt3/modules/builds/x86-64-accton-es7632bt3-leds.c b/packages/platforms/accton/x86-64/es7632bt3/modules/builds/x86-64-accton-es7632bt3-leds.c
index 36d49ad140b2..a251f4da4395 100644
--- a/packages/platforms/accton/x86-64/es7632bt3/modules/builds/x86-64-accton-es7632bt3-leds.c
+++ b/packages/platforms/accton/x86-64/es7632bt3/modules/builds/x86-64-accton-es7632bt3-leds.c
@@ -29,6 +29,7 @@
 #include <linux/leds.h>
 #include <linux/slab.h>
 #include <linux/dmi.h>
+#include <linux/version.h>
 
 extern int es7632bt3_cpld_read (unsigned short cpld_addr, u8 reg);
 extern int es7632bt3_cpld_write(unsigned short cpld_addr, u8 reg, u8 value);
@@ -376,10 +377,20 @@ static int accton_es7632bt3_led_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void accton_es7632bt3_led_remove_6_11(struct platform_device *pdev) {
+	accton_es7632bt3_led_remove(pdev);
+}
+#endif
 
 static struct platform_driver accton_es7632bt3_led_driver = {
 	.probe = accton_es7632bt3_led_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = accton_es7632bt3_led_remove_6_11,
+#else
+	
 	.remove	= accton_es7632bt3_led_remove,
+#endif
 	.suspend = accton_es7632bt3_led_suspend,
 	.resume	= accton_es7632bt3_led_resume,
 	.driver = {
diff --git a/packages/platforms/accton/x86-64/minipack/modules/builds/minipack_psensor.c b/packages/platforms/accton/x86-64/minipack/modules/builds/minipack_psensor.c
index 27a929e61d60..7e39dcccfc1e 100644
--- a/packages/platforms/accton/x86-64/minipack/modules/builds/minipack_psensor.c
+++ b/packages/platforms/accton/x86-64/minipack/modules/builds/minipack_psensor.c
@@ -1365,10 +1365,20 @@ static int minipack_remove(struct platform_device *pdev)
     kfree(mp_data->group.attrs);
     return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void minipack_remove_6_11(struct platform_device *pdev) {
+    minipack_remove(pdev);
+}
+#endif
 
 static struct platform_driver minipack_driver = {
     .probe      = minipack_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+    .remove = minipack_remove_6_11,
+#else
+    
     .remove     = minipack_remove,
+#endif
     .driver     = {
         .name       = DRVNAME,
         .owner      = THIS_MODULE,
diff --git a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_fan.c b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_fan.c
index 900a2ce64776..ad4a6ed316ae 100644
--- a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_fan.c
+++ b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_fan.c
@@ -143,7 +143,13 @@ struct scg60d0_fan_data *data = NULL;
 
 static struct platform_driver scg60d0_fan_driver = {
 	.probe      = scg60d0_fan_probe,
-	.remove     = scg60d0_fan_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = scg60d0_fan_remove_6_11,
+#else
+	
+	.remove     = scg60d0_fan_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -676,7 +682,12 @@ static int scg60d0_fan_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &scg60d0_fan_group);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void scg60d0_fan_remove_6_11(struct platform_device *pdev) {
+	scg60d0_fan_remove(pdev);
+}
+#endif
 
 static int __init scg60d0_fan_init(void)
 {
diff --git a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_led.c b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_led.c
index 2005bda550b2..6ac1766c15fa 100644
--- a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_led.c
+++ b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_led.c
@@ -107,7 +107,13 @@ struct scg60d0_led_data *data = NULL;
 
 static struct platform_driver scg60d0_led_driver = {
 	.probe      = scg60d0_led_probe,
-	.remove     = scg60d0_led_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = scg60d0_led_remove_6_11,
+#else
+	
+	.remove     = scg60d0_led_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -396,7 +402,12 @@ static int scg60d0_led_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &scg60d0_led_group);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void scg60d0_led_remove_6_11(struct platform_device *pdev) {
+	scg60d0_led_remove(pdev);
+}
+#endif
 
 static int __init scg60d0_led_init(void)
 {
diff --git a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_pwr_cpld.c b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_pwr_cpld.c
index 5b2514b32544..71ccc653f041 100644
--- a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_pwr_cpld.c
+++ b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_pwr_cpld.c
@@ -123,7 +123,13 @@ struct scg60d0_pwr_cpld_data *data = NULL;
 
 static struct platform_driver scg60d0_pwr_cpld_driver = {
 	.probe      = scg60d0_pwr_cpld_probe,
-	.remove     = scg60d0_pwr_cpld_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = scg60d0_pwr_cpld_remove_6_11,
+#else
+	
+	.remove     = scg60d0_pwr_cpld_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -509,7 +515,12 @@ static int scg60d0_pwr_cpld_remove(struct platform_device *pdev)
 {
 	sysfs_remove_group(&pdev->dev.kobj, &scg60d0_pwr_cpld_group);
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void scg60d0_pwr_cpld_remove_6_11(struct platform_device *pdev) {
+	scg60d0_pwr_cpld_remove(pdev);
+}
+#endif
 
 static int __init scg60d0_pwr_cpld_init(void)
 {
diff --git a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_thermal.c b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_thermal.c
index fbf1609924a1..56eabc5843e1 100644
--- a/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_thermal.c
+++ b/packages/platforms/alphanetworks/x86-64/scg60d0-484t/modules/builds/scg60d0-484t_thermal.c
@@ -107,7 +107,13 @@ struct scg60d0_thermal_data *data = NULL;
 
 static struct platform_driver scg60d0_thermal_driver = {
 	.probe      = scg60d0_thermal_probe,
-	.remove     = scg60d0_thermal_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = scg60d0_thermal_remove_6_11,
+#else
+	
+	.remove     = scg60d0_thermal_remove,
+#endif
+
 	.driver     = {
 		.name   = DRVNAME,
 		.owner  = THIS_MODULE,
@@ -407,7 +413,12 @@ static int scg60d0_thermal_remove(struct platform_device *pdev)
 	sysfs_remove_group(&pdev->dev.kobj, &scg60d0_thermal_group);	
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void scg60d0_thermal_remove_6_11(struct platform_device *pdev) {
+	scg60d0_thermal_remove(pdev);
+}
+#endif
 
 static int __init scg60d0_thermal_init(void)
 {
diff --git a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-cls.c b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-cls.c
index 6faed7e46a95..d9f58a819e82 100644
--- a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-cls.c
+++ b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-cls.c
@@ -24,6 +24,7 @@
 #include <linux/spinlock.h>
 #include <linux/jiffies.h>
 #include <linux/sched/signal.h>
+#include <linux/version.h>
 #include "i2c-cls.h"
 
 /* The registers for one core */
@@ -468,6 +469,11 @@ static int cls_i2c_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void cls_i2c_remove_6_11(struct platform_device *pdev) {
+	cls_i2c_remove(pdev);
+}
+#endif
 
 #ifdef CONFIG_PM_SLEEP
 static int cls_i2c_suspend(struct device *dev)
@@ -499,7 +505,12 @@ static SIMPLE_DEV_PM_OPS(cls_i2c_pm, cls_i2c_suspend, cls_i2c_resume);
 
 static struct platform_driver cls_i2c_driver = {
 	.probe = cls_i2c_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = cls_i2c_remove_6_11,
+#else
+	
 	.remove = cls_i2c_remove,
+#endif
 	.driver = {
 		.name = "cls-i2c",
 		.pm = CLS_I2C_PM,
diff --git a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-ocores.c b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-ocores.c
index 7d9f40fbb9d6..169a1b4c49a0 100644
--- a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-ocores.c
+++ b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/i2c-ocores.c
@@ -25,6 +25,7 @@
 #include <linux/log2.h>
 #include <linux/spinlock.h>
 #include <linux/jiffies.h>
+#include <linux/version.h>
 #include "i2c-ocores.h"
 
 #define OCORES_FLAG_POLL BIT(0)
@@ -776,6 +777,11 @@ static int ocores_i2c_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ocores_i2c_remove_6_11(struct platform_device *pdev) {
+	ocores_i2c_remove(pdev);
+}
+#endif
 
 #ifdef CONFIG_PM_SLEEP
 static int ocores_i2c_suspend(struct device *dev)
@@ -820,7 +826,12 @@ static SIMPLE_DEV_PM_OPS(ocores_i2c_pm, ocores_i2c_suspend, ocores_i2c_resume);
 
 static struct platform_driver ocores_i2c_driver = {
 	.probe   = ocores_i2c_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ocores_i2c_remove_6_11,
+#else
+	
 	.remove  = ocores_i2c_remove,
+#endif
 	.driver  = {
 		.name = "cls-ocores-i2c",
 		.of_match_table = ocores_i2c_match,
diff --git a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/xcvr-cls.c b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/xcvr-cls.c
index bc0da613ec8d..efab5f4a62b4 100644
--- a/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/xcvr-cls.c
+++ b/packages/platforms/celestica/x86-64/silverstone/modules/builds/src/xcvr-cls.c
@@ -13,6 +13,7 @@
 #include <linux/platform_device.h>
 #include <linux/spinlock.h>
 #include <linux/hwmon.h>
+#include <linux/version.h>
 #include "xcvr-cls.h"
 
 /* FPGA front panel  */
@@ -501,11 +502,21 @@ static int cls_xcvr_remove(struct platform_device *pdev)
 	xcvr_cleanup(xcvr);
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void cls_xcvr_remove_6_11(struct platform_device *pdev) {
+	cls_xcvr_remove(pdev);
+}
+#endif
 
 
 static struct platform_driver cls_xcvr_driver = {
 	.probe = cls_xcvr_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = cls_xcvr_remove_6_11,
+#else
+	
 	.remove = cls_xcvr_remove,
+#endif
 	.driver = {
 		.name = "cls-xcvr",
 	},
diff --git a/packages/platforms/delta/x86-64/ag8032/modules/builds/x86-64-delta-ag8032-i2c-mux-cpld.c b/packages/platforms/delta/x86-64/ag8032/modules/builds/x86-64-delta-ag8032-i2c-mux-cpld.c
index a0ad8bd4851f..2eea11006925 100644
--- a/packages/platforms/delta/x86-64/ag8032/modules/builds/x86-64-delta-ag8032-i2c-mux-cpld.c
+++ b/packages/platforms/delta/x86-64/ag8032/modules/builds/x86-64-delta-ag8032-i2c-mux-cpld.c
@@ -189,10 +189,20 @@ static int i2c_mux_cpld_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_mux_cpld_remove_6_11(struct platform_device *pdev) {
+	i2c_mux_cpld_remove(pdev);
+}
+#endif
 
 static struct platform_driver i2c_mux_cpld_driver = {
 	.probe	= i2c_mux_cpld_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_mux_cpld_remove_6_11,
+#else
+	
 	.remove	= i2c_mux_cpld_remove,
+#endif
 	.driver	= {
 		.name	= "i2c-mux-cpld",
 	},
diff --git a/packages/platforms/inventec/x86-64/d10056/modules/builds/src/gpio-ich.c b/packages/platforms/inventec/x86-64/d10056/modules/builds/src/gpio-ich.c
index 3db7133c849b..1a81412ff1df 100644
--- a/packages/platforms/inventec/x86-64/d10056/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/inventec/x86-64/d10056/modules/builds/src/gpio-ich.c
@@ -26,6 +26,7 @@
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
 #include <linux/mfd/lpc_ich.h>
+#include <linux/version.h>
 
 #define DRV_NAME "gpio_ich"
 
@@ -496,13 +497,23 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/inventec/x86-64/d10056/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d10056/modules/builds/src/i2c-gpio.c
index 34cfc0ebdcb9..ef9c738e2202 100644
--- a/packages/platforms/inventec/x86-64/d10056/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d10056/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -247,6 +248,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d3352/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d3352/modules/builds/src/i2c-gpio.c
index 71a45b210a24..34d0b379cebf 100644
--- a/packages/platforms/inventec/x86-64/d3352/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d3352/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -249,6 +250,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -266,7 +272,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d5052/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d5052/modules/builds/src/i2c-gpio.c
index 71a45b210a24..34d0b379cebf 100644
--- a/packages/platforms/inventec/x86-64/d5052/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d5052/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -249,6 +250,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -266,7 +272,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d5254/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d5254/modules/builds/src/i2c-gpio.c
index 34cfc0ebdcb9..ef9c738e2202 100644
--- a/packages/platforms/inventec/x86-64/d5254/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d5254/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -247,6 +248,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d6254qs/modules/builds/src/gpio-ich.c b/packages/platforms/inventec/x86-64/d6254qs/modules/builds/src/gpio-ich.c
index d1ad794de18d..c0f356d041ba 100644
--- a/packages/platforms/inventec/x86-64/d6254qs/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/inventec/x86-64/d6254qs/modules/builds/src/gpio-ich.c
@@ -24,6 +24,7 @@
 #include <linux/pci.h>
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
+#include <linux/version.h>
 //#include <linux/mfd/lpc_ich.h>
 #include "lpc_ich.h"
 
@@ -549,6 +550,11 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
@@ -556,7 +562,12 @@ static struct platform_driver ichx_gpio_driver = {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/inventec/x86-64/d6332/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d6332/modules/builds/src/i2c-gpio.c
index 34cfc0ebdcb9..ef9c738e2202 100644
--- a/packages/platforms/inventec/x86-64/d6332/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d6332/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -247,6 +248,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d6356/modules/builds/src/gpio-ich.c b/packages/platforms/inventec/x86-64/d6356/modules/builds/src/gpio-ich.c
index 70304220a479..6a5d7c4306a8 100644
--- a/packages/platforms/inventec/x86-64/d6356/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/inventec/x86-64/d6356/modules/builds/src/gpio-ich.c
@@ -25,6 +25,7 @@
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
 #include <linux/mfd/lpc_ich.h>
+#include <linux/version.h>
 
 #define DRV_NAME "gpio_ich"
 
@@ -530,6 +531,11 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
@@ -537,7 +543,12 @@ static struct platform_driver ichx_gpio_driver = {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/inventec/x86-64/d6356/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d6356/modules/builds/src/i2c-gpio.c
index 71a45b210a24..34d0b379cebf 100644
--- a/packages/platforms/inventec/x86-64/d6356/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d6356/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -249,6 +250,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -266,7 +272,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d6556/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d6556/modules/builds/src/i2c-gpio.c
index 71a45b210a24..34d0b379cebf 100644
--- a/packages/platforms/inventec/x86-64/d6556/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d6556/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -249,6 +250,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -266,7 +272,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/inventec/x86-64/d7032q28b/modules/builds/src/gpio-ich.c b/packages/platforms/inventec/x86-64/d7032q28b/modules/builds/src/gpio-ich.c
index 70304220a479..6a5d7c4306a8 100644
--- a/packages/platforms/inventec/x86-64/d7032q28b/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/inventec/x86-64/d7032q28b/modules/builds/src/gpio-ich.c
@@ -25,6 +25,7 @@
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
 #include <linux/mfd/lpc_ich.h>
+#include <linux/version.h>
 
 #define DRV_NAME "gpio_ich"
 
@@ -530,6 +531,11 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
@@ -537,7 +543,12 @@ static struct platform_driver ichx_gpio_driver = {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/inventec/x86-64/d7264q28b/modules/builds/src/gpio-ich.c b/packages/platforms/inventec/x86-64/d7264q28b/modules/builds/src/gpio-ich.c
index 70304220a479..6a5d7c4306a8 100644
--- a/packages/platforms/inventec/x86-64/d7264q28b/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/inventec/x86-64/d7264q28b/modules/builds/src/gpio-ich.c
@@ -25,6 +25,7 @@
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
 #include <linux/mfd/lpc_ich.h>
+#include <linux/version.h>
 
 #define DRV_NAME "gpio_ich"
 
@@ -530,6 +531,11 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
@@ -537,7 +543,12 @@ static struct platform_driver ichx_gpio_driver = {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/inventec/x86-64/d7332/modules/builds/src/i2c-gpio.c b/packages/platforms/inventec/x86-64/d7332/modules/builds/src/i2c-gpio.c
index 34cfc0ebdcb9..ef9c738e2202 100644
--- a/packages/platforms/inventec/x86-64/d7332/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/inventec/x86-64/d7332/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -247,6 +248,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/gpio-ich.c b/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/gpio-ich.c
index 3db7133c849b..1a81412ff1df 100644
--- a/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/gpio-ich.c
+++ b/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/gpio-ich.c
@@ -26,6 +26,7 @@
 #include <linux/gpio.h>
 #include <linux/platform_device.h>
 #include <linux/mfd/lpc_ich.h>
+#include <linux/version.h>
 
 #define DRV_NAME "gpio_ich"
 
@@ -496,13 +497,23 @@ static int ichx_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void ichx_gpio_remove_6_11(struct platform_device *pdev) {
+	ichx_gpio_remove(pdev);
+}
+#endif
 
 static struct platform_driver ichx_gpio_driver = {
 	.driver		= {
 		.name	= DRV_NAME,
 	},
 	.probe		= ichx_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = ichx_gpio_remove_6_11,
+#else
+	
 	.remove		= ichx_gpio_remove,
+#endif
 };
 
 module_platform_driver(ichx_gpio_driver);
diff --git a/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/i2c-gpio.c b/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/i2c-gpio.c
index 203b632269a6..d38d815747b8 100644
--- a/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/netberg/x86-64/aurora-610/modules/builds/src/i2c-gpio.c
@@ -16,7 +16,8 @@
 #include <linux/platform_device.h>
 #include <linux/gpio.h>
 #include <linux/of.h>
-#include <linux/of_gpio.h>
+#include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -246,7 +247,12 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 	i2c_del_adapter(adap);
 
 	return 0;
-}
+}
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,13 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
-	.remove		= i2c_gpio_remove,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
+	.remove		= i2c_gpio_remove,
+#endif
+
 };
 
 static int __init i2c_gpio_init(void)
diff --git a/packages/platforms/netberg/x86-64/aurora-820/modules/builds/src/i2c-gpio.c b/packages/platforms/netberg/x86-64/aurora-820/modules/builds/src/i2c-gpio.c
index 34cfc0ebdcb9..ef9c738e2202 100644
--- a/packages/platforms/netberg/x86-64/aurora-820/modules/builds/src/i2c-gpio.c
+++ b/packages/platforms/netberg/x86-64/aurora-820/modules/builds/src/i2c-gpio.c
@@ -17,6 +17,7 @@
 #include <linux/gpio.h>
 #include <linux/of.h>
 #include <linux/of_gpio.h>
+#include <linux/version.h>
 
 struct i2c_gpio_private_data {
 	struct i2c_adapter adap;
@@ -247,6 +248,11 @@ static int i2c_gpio_remove(struct platform_device *pdev)
 
 	return 0;
 }
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+static void i2c_gpio_remove_6_11(struct platform_device *pdev) {
+	i2c_gpio_remove(pdev);
+}
+#endif
 
 #if defined(CONFIG_OF)
 static const struct of_device_id i2c_gpio_dt_ids[] = {
@@ -263,7 +269,12 @@ static struct platform_driver i2c_gpio_driver = {
 		.of_match_table	= of_match_ptr(i2c_gpio_dt_ids),
 	},
 	.probe		= i2c_gpio_probe,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6,11,0)
+	.remove = i2c_gpio_remove_6_11,
+#else
+	
 	.remove		= i2c_gpio_remove,
+#endif
 };
 
 static int __init i2c_gpio_init(void)
-- 
2.47.1

