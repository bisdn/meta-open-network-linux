Upstream-Status: Inappropriate [Hack for building with yocto]

From fca6a06c27ce747d689d405e5a2c69720d33a723 Mon Sep 17 00:00:00 2001
From: Jonas Gorski <jonas.gorski@bisdn.de>
Date: Wed, 18 May 2022 16:21:02 +0200
Subject: [PATCH 1/3] onlpm: hardcode supported arches

For yocto we don't provide a dpkg, so we need to hardcode the supported
arches.

Signed-off-by: Jonas Gorski <jonas.gorski@bisdn.de>
---
 tools/onlpm.py | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/tools/onlpm.py b/tools/onlpm.py
index e1decf9e4bee..b5a7792695ab 100755
--- a/tools/onlpm.py
+++ b/tools/onlpm.py
@@ -1003,8 +1003,7 @@ class OnlPackageManager(object):
 
 
     def __builder_arches(self):
-        arches = [ 'all', 'amd64' ]
-        arches = arches + subprocess.check_output(['dpkg', '--print-foreign-architectures'], text=True).split()
+        arches = ['amd64', 'powerpc', 'armel', 'armhf', 'arm64', 'all',]
         return arches
 
     def __build_cache(self, basedir):
-- 
2.36.1

